<!DOCTYPE html>
<html lang="en" data-theme="">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">

<script type="text/javascript">/*<![CDATA[*/window.__chunkMapping={"17896441":["/17896441.61c347da.js"],"main":["/main.4160d6bc.js"],"09883b0c":["/09883b0c.de20ed7e.js"],"0e800433":["/0e800433.3c4e08c1.js"],"10c09747":["/10c09747.2abfe5df.js"],"1be78505":[],"20ac7829":["/20ac7829.5c60a318.js"],"23d28cd9":["/23d28cd9.5bada0ee.js"],"3847b3ea":["/3847b3ea.5841b5a2.js"],"3b1d3cd8":["/3b1d3cd8.bed73e6f.js"],"3f2b6303":["/3f2b6303.dcfdd02c.js"],"3f607676":["/3f607676.2c061f81.js"],"42b7455d":["/42b7455d.4e350029.js"],"4cc4d2ba":["/4cc4d2ba.e6102011.js"],"58ac8ce4":["/58ac8ce4.718effe1.js"],"5caa2f80":["/5caa2f80.65da788c.js"],"605b7772":["/605b7772.49bef056.js"],"645d743a":["/645d743a.d7592cff.js"],"683be167":["/683be167.59613366.js"],"6aeeabde":["/6aeeabde.ef061238.js"],"7047bd09":["/7047bd09.221360eb.js"],"816165d5":["/816165d5.05d396a2.js"],"950718c7":["/950718c7.876327b4.js"],"9ed00105":["/9ed00105.e0b53cd9.js"],"a09c2993":["/a09c2993.543e2e93.js"],"a303f551":["/a303f551.011a2ce3.js"],"ba0cd7c5":["/ba0cd7c5.9920f94a.js"],"bb3a118c":["/bb3a118c.22b9de9d.js"],"c4f5d8e4":["/c4f5d8e4.c7400f1e.js"],"cbc948ce":["/cbc948ce.c32769a5.js"],"ce3e42ad":["/ce3e42ad.1d78856f.js"],"d59a3898":["/d59a3898.eabfd7ac.js"],"dad9b899":["/dad9b899.2a0f9cbb.js"],"febdf506":["/febdf506.f4ed6cc9.js"]};/*]]>*/</script>

<title data-react-helmet="true">admin</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"/><meta data-react-helmet="true" property="og:title" content="Drupal Stickers Book · Build a Drupal website in no time !"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="description" content="# Admin"/><meta data-react-helmet="true" property="og:description" content="# Admin"/><meta data-react-helmet="true" property="og:url" content="https://drupal.livingcolor.academy/docs/admin"/>

<link data-react-helmet="true" rel="shortcut icon" href="/img/logo-white.png"/>


<link rel="stylesheet" type="text/css" href="/styles.a2d4110f.css" />

</head>
<body >
<script type="text/javascript">(function() {
  function setDataThemeAttribute(theme) {
    document.querySelector('html').setAttribute('data-theme', theme);
  }
  
  var preferDarkQuery = '(prefers-color-scheme: dark)';
  var mql = window.matchMedia(preferDarkQuery);
  var supportsColorSchemeQuery = mql.media === preferDarkQuery;
  var localStorageTheme = null;
  try {
    localStorageTheme = localStorage.getItem('theme');
  } catch (err) {}
  var localStorageExists = localStorageTheme !== null;

  if (localStorageExists) {
    setDataThemeAttribute(localStorageTheme);
  } else if (supportsColorSchemeQuery && mql.matches) {
    setDataThemeAttribute('dark');
  }
})();</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo.png" alt="livingcolor"/><strong class="">Drupal Stickers Recipes</strong></a><a class="navbar__item navbar__link" href="/docs/introduction">Docs</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/facebook/docusaurus">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"/></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"/></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo.png" alt="livingcolor"/><strong>Drupal Stickers Recipes</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/introduction">Docs</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://github.com/facebook/docusaurus">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">admin</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor" id="admin"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#admin" title="Direct link to heading">#</a>Admin</h1><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="pour-afficher-la-barre-dédition-dun-contenu-en-front"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#pour-afficher-la-barre-dédition-dun-contenu-en-front" title="Direct link to heading">#</a>Pour afficher la barre d&#x27;édition d&#x27;un contenu en front</h2><ul><li>Aller dans Structure/Mise en page des blocs</li><li>Dans la région Content ajouter le bloc Onglets</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="personnaliser-la-toolbar-admin-en-front"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#personnaliser-la-toolbar-admin-en-front" title="Direct link to heading">#</a>Personnaliser la toolbar admin en front</h2><ol><li>créer un twig nommé toolbar.html.twig</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="format-de-texte-et-editeur"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#format-de-texte-et-editeur" title="Direct link to heading">#</a>Format de texte et editeur</h2><ul><li>On crée les formats dans cnfig/redaction de contenu/formats de texte et editeur</li><li>On assigne un format en allant sur structure/type de contenu/ gérer les champs/ le champ concerné / modifier (onglet modifier) il y a en bas l&#x27;option &quot;format de texte&quot;...</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="worflow-de-validation"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#worflow-de-validation" title="Direct link to heading">#</a>Worflow de validation</h2><ol><li>Activer le module Content Moderation</li><li>Dans Administration / Configuration / Processus créer un nouveau processus</li><li>Dans ETATS, ajouter les états qu&#x27;on souhaite utiliser dans le processus (e.g. A corriger, A publier). Par défaut il y a 2 états Draft et Publish.</li><li>Dans TRANSITIONS, modifier ou ajouter les transitions qui définissent les enchainements d&#x27;états (e.g. Création de contenus, Contenus à publier)</li><li>Dans LE PROCESSUS S&#x27;APPLIQUE A, sélectionner les types de contenus qui sont concernés par le processus</li><li>Le processus est maintenant configuré, une liste déroulante apparait maintenant en lieu et place du bouton radio Published sur le formulaire de gestion des contenus. Cette liste permet de sélectionner les différents états qui ont été définis dans le processus.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="workflow-de-contribution"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#workflow-de-contribution" title="Direct link to heading">#</a>Workflow de contribution</h2><ol><li>Utilisation des modules Workflow et Content Moderation</li><li>Installer et configurer le module Content Moderation Notifications qui s&#x27;appuie sur le workflow</li><li>Créer et configurer un processus de workflow :</li></ol><ul><li>Ajouter l&#x27;état &quot;review&quot; (A valider)</li><li>Définir les transitions souhaitées :<ul><li>Créer ou modifier un brouillon</li><li>Publier</li><li>Modifier</li><li>Dépublier</li><li>A modifier</li><li>A valider</li></ul></li><li>Attention, pour permettre la dépublication d&#x27;un contenu, il convient de :<ul><li>vérifier que pour tous les états la case Révision par défaut est bien cochée (sauf pour Draft)</li><li>créer un état (ex: Dépublié)</li><li>créer une transition (ex : Dépublier un contenu) qui prévoit de passer des états de Publié à Dépublié</li></ul></li><li>Choisir à quels types de contenu s&#x27;applique le processus</li></ul><ol><li>Associer le processus au rôle concerné en activant le droit dans Personne &gt; droits &gt; Content Moderation.</li><li>Pour les rôles concernés par la modération ou contribution :</li></ol><ul><li>activer le droit Voir le thème d&#x27;administration</li><li>activer le droit Utiliser la barre d&#x27;outils d&#x27;administration</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="attributions-des-processus-à-des-rôles"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#attributions-des-processus-à-des-rôles" title="Direct link to heading">#</a>Attributions des processus à des rôles</h2><p>Afin de définir les droits d&#x27;action (A publier, A corriger...) selon  les rôles :
1. Dans Administration / Personnes / Droits aller dans la rubrique Content Moderation
1. Appliquer les droits attendus en fonction des rôles</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="attribution-des-droits-minimums-pour-un-rôle"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#attribution-des-droits-minimums-pour-un-rôle" title="Direct link to heading">#</a>Attribution des droits &quot;minimums&quot; pour un rôle</h2><ol><li>Accéder à l&#x27;admin</li></ol><ul><li>Voir le thème d&#x27;administration</li></ul><ol><li>Accéder à la bare d&#x27;outil</li></ol><ul><li>Toolbar / Utiliser la barre d&#x27;outils d&#x27;administration</li></ul><ol><li>Accéder aux menus autres que Contenu (Structure...)</li></ol><ul><li>Utiliser les pages d&#x27;administration et l&#x27;aide</li></ul><ol><li>Accéder aux informations d&#x27;un contenu (auteur...)</li></ol><ul><li>Administrer le contenu</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="configurer-un-autocomplete-spécifique-pour-un-champ-referenced-field"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#configurer-un-autocomplete-spécifique-pour-un-champ-referenced-field" title="Direct link to heading">#</a>Configurer un autocomplete spécifique pour un champ referenced field</h2><ul><li>Créer une vue de type entity reference</li><li>Ajouter les champs qu&#x27;on souhaite afficher ou utiliser pour la recherche</li><li>dans Format, choisir les champs sur lesquels rechercher</li><li>Dans les champs, sélectionner les champs souhaités, et les passer en &quot;exclure de l&#x27;affichage&quot;, sauf le dernier pour lequel on va réécrire les résultats &quot;Remplacer le rendu de ce champ par un texte personnalisé&quot; en utilisant du twig et les champs qui sont cachés.</li></ul><p>Ensuite, se rendre sur la configuration du node, dans la configuration du champs referenced entity et choisir dans type de référence /méthode de référence la vue que l&#x27;on vient de créer.</p><p>ATTENTION, un patch est nécessaire (version D8 actuelle 8.7.* : &quot;entity reference display on admin autocomplete&quot;: &quot;patches/2174633-351.patch&quot;</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#pour-afficher-la-barre-dédition-dun-contenu-en-front" class="contents__link">Pour afficher la barre d'édition d'un contenu en front</a></li><li><a href="#personnaliser-la-toolbar-admin-en-front" class="contents__link">Personnaliser la toolbar admin en front</a></li><li><a href="#format-de-texte-et-editeur" class="contents__link">Format de texte et editeur</a></li><li><a href="#worflow-de-validation" class="contents__link">Worflow de validation</a></li><li><a href="#workflow-de-contribution" class="contents__link">Workflow de contribution</a></li><li><a href="#attributions-des-processus-à-des-rôles" class="contents__link">Attributions des processus à des rôles</a></li><li><a href="#attribution-des-droits-minimums-pour-un-rôle" class="contents__link">Attribution des droits "minimums" pour un rôle</a></li><li><a href="#configurer-un-autocomplete-spécifique-pour-un-champ-referenced-field" class="contents__link">Configurer un autocomplete spécifique pour un champ referenced field</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction">Docs</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://abecms.slack.com">Slack</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Website</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://livingcolor.fr">Website</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_1Wg7"><img class="footer__logo" alt="Facebook Open Source Logo" src="https://docusaurus.io/img/oss_logo.png"/></a></div>Copyright © 2020 Abe SAS. Built with Docusaurus.</div></div></footer>
</div>

<script type="text/javascript" src="/styles.e380bd71.js"></script>

<script type="text/javascript" src="/runtime~main.3bb7e169.js"></script>

<script type="text/javascript" src="/main.4160d6bc.js"></script>

<script type="text/javascript" src="/1.8e20ff93.js"></script>

<script type="text/javascript" src="/37.a9bc7fb8.js"></script>

<script type="text/javascript" src="/20ac7829.5c60a318.js"></script>

<script type="text/javascript" src="/17896441.61c347da.js"></script>

<script type="text/javascript" src="/605b7772.49bef056.js"></script>


</body>
</html>