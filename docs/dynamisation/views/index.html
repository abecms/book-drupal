<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Drupal Stickers Book Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Drupal Stickers Book Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Drupal Stickers Book" href="/opensearch.xml"><title data-react-helmet="true">views | Drupal Stickers Book</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="views | Drupal Stickers Book"><meta data-react-helmet="true" name="description" content="Views"><meta data-react-helmet="true" property="og:description" content="Views"><meta data-react-helmet="true" property="og:url" content="https://drupal.livingcolor.academy/docs/dynamisation/views"><link data-react-helmet="true" rel="shortcut icon" href="/img/logo-white.png"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://drupal.livingcolor.academy/docs/dynamisation/views"><link rel="stylesheet" href="/styles.e5366e45.css">
<link rel="preload" href="/styles.dd3b91b9.js" as="script">
<link rel="preload" href="/runtime~main.6756130f.js" as="script">
<link rel="preload" href="/main.901730ae.js" as="script">
<link rel="preload" href="/1.610b12b6.js" as="script">
<link rel="preload" href="/2.2611d948.js" as="script">
<link rel="preload" href="/41.ff57316b.js" as="script">
<link rel="preload" href="/44.23577ab9.js" as="script">
<link rel="preload" href="/935f2afb.70e75e8c.js" as="script">
<link rel="preload" href="/17896441.ea08961a.js" as="script">
<link rel="preload" href="/ff4c89f9.7558dd5e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="livingcolor" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="livingcolor" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Drupal Stickers Recipes</strong></a><a class="navbar__item navbar__link" href="/docs/setup/introduction">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">üåû</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="livingcolor" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="livingcolor" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Drupal Stickers Recipes</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/setup/introduction">Docs</a></li><li class="menu__list-item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Setup</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/setup/introduction">introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/setup/setup">setup</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Configuration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config/configuration">configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config/multilingue">multilingue</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config/webforms">webforms</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config/blocks">blocks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config/commerce">commerce</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config/nodes">nodes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config/seo">seo</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Dynamisation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/nodes">nodes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/paragraphs">paragraphs</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/dynamisation/views">views</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/search">search</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/forms">forms</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/taxonomies">taxonomies</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/tokens">tokens</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/images">images</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/users">users</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/comments">comments</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/newsletters">newsletters</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/menus">menus</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/ckeditor">ckeditor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/modules">modules</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/domains">domains</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev/dev">dev</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev/debug">debug</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev/tests">tests</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">views</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="views"></a>Views<a class="hash-link" href="#views" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="introduction"></a>Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">#</a></h2><p>ATTENTION: Lorsque l&#x27;on fait des views avec affichage de node (dans la config de la vue: format afficher contenu), l&#x27;utilisation des twigs de node associ√©s aux vues fonctionne mal et si vous avez plusieurs vues diff√©fentes qui affichent les m√™me type de contenu node, leur affichage ne fonctionnera pas correctement. C&#x27;est un bug Drupal 8 connu: <a href="https://drupal.stackexchange.com/questions/248748/twig-templates-for-nodes-in-different-views/248768" target="_blank" rel="noopener noreferrer">https://drupal.stackexchange.com/questions/248748/twig-templates-for-nodes-in-different-views/248768</a>
Pour r√©soudre ce probl√®me, utiliser des modes d&#x27;affichage diff√©rents (full, teaser, default ...) pour les nodes.
Par exemple pour une vue &quot;agenda&quot; qui affiche des nodes dont le type de contenu est &quot;event&quot; : au lieu de cr√©er un twig node--view--agenda.html.twig, utiliser un node--event--full.html.twig</p><blockquote><blockquote><p>Dans les vues, n&#x27;utiliser que des unformatted list of fields avec affichage du Node dans mode d&#x27;affichage diff√©rent par bloc de vue</p></blockquote></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="g√©rer-les-r√©p√©titions"></a>G√©rer les r√©p√©titions<a class="hash-link" href="#g√©rer-les-r√©p√©titions" title="Direct link to heading">#</a></h3><ol><li>Pour √©viter qu&#x27;un m√™me r√©sultat se r√©p√®te dans l&#x27;affichage :</li></ol><ul><li>Ouvrir les param√®tres avanc√©s de la vue</li><li>Passer &quot;utiliser l&#x27;agr√©gation&quot; de &#x27;non&#x27; √† &#x27;oui&#x27;</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="cr√©er-une-page-de-vue"></a>Cr√©er une page de vue<a class="hash-link" href="#cr√©er-une-page-de-vue" title="Direct link to heading">#</a></h3><ol><li>Cr√©er une view du nom de &quot;Actualit√©s&quot;</li><li>show content of type article sorted by newest first</li><li>Create a page doit √™tre coch√©, le nom de la page sera &quot;actualites&quot;</li><li>Display format: Unformatted list of fields.</li><li>Vider Items to display et d√©cocher &quot;Use a pager&quot;</li><li>Save and Edit</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="permettre-la-s√©lection-√†-lutilisateur"></a>Permettre la s√©lection √† l&#x27;utilisateur<a class="hash-link" href="#permettre-la-s√©lection-√†-lutilisateur" title="Direct link to heading">#</a></h3><ol><li>Ajouter un &quot;filter criteria&quot;, on ajoute Content: Tags / Non expos√© aux utilisateurs</li><li>Ajouter un &quot;filter criteria&quot;, on ajoute Content: D√©partement, Sites, March√©s, Th√©matiques :</li><li>S√©lectionner le mode dropdown</li><li>S√©lectionner Expose this filter to visitors</li><li>S√©lectionner Single filter</li><li>puis Operator &quot;is one of&quot;</li><li>Ajouter un &quot;filter criteria&quot;, on ajoute Content: Date / Est compris entre</li><li>Sauvegarder</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="impl√©menter-ajax"></a>Impl√©menter Ajax<a class="hash-link" href="#impl√©menter-ajax" title="Direct link to heading">#</a></h3><ol><li>Cliquer sur Advanced</li><li>Use Ajax</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="les-suggestions-en-ajax-pager-filters-etc"></a>Les suggestions en ajax (pager, filters, etc...)<a class="hash-link" href="#les-suggestions-en-ajax-pager-filters-etc" title="Direct link to heading">#</a></h3><ol><li>cr√©er la suggestion souhait√©e dans le .theme :</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function harmonie_website_theme_suggestions_pager_alter(&amp;$suggestions, array $variables) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  if ($node = \Drupal::routeMatch()-&gt;getParameter(&#x27;node&#x27;)) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $suggestions[] = &#x27;pager__&#x27; . $node-&gt;bundle();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ol><li>Pour v√©rifier si on rentre dans de l&#x27;ajax, on peut tester avec ce code : <code>if ($isAjax = \Drupal::request()-&gt;isXmlHttpRequest())</code></li><li>Puis dans cette condition(=&gt; if) ajouter le code pour la suggestion ajax souhait√©e :</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$current_path = \Drupal::service(&#x27;path.current&#x27;)-&gt;getPath();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$path = \Drupal::service(&#x27;path.alias_manager&#x27;)-&gt;getPathByAlias($current_path);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$arrNode = explode(&#x27;/&#x27;, $path);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$nodeId = end($arrNode);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if ($node = \Drupal\node\Entity\Node::load($nodeId)) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $suggestions[] = &#x27;pager__&#x27; . $node-&gt;bundle();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Il faudra ensuite utiliser le module custom view_filter que nous avons cr√©√©</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="tips-ajax"></a>Tips ajax<a class="hash-link" href="#tips-ajax" title="Direct link to heading">#</a></h4><ol><li>Ne pas delete les div (contenant les classes js appropri√©es) dans les fichiers concern√©s : views-view.html.twig - container.html.twig et views-view-unformatted.html.twig</li><li>Pour l&#x27;infinite scroll en ajax bien garder les classes js (comme les autres files) ET bien garder les tags html ul/li</li><li>Dans le cas des filtres de vue, √©x√©cuter le tri en js et cacher les filtres (cf. projet dalet : connect.dalet.com) : </li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">jQuery(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;.w-tab-link&#x27;, function() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $this = jQuery(this);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  jQuery(&#x27;.w--current&#x27;).removeClass(&#x27;w--current&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $this.addClass(&#x27;w--current&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $(&quot;select[name=&#x27;field_category_target_id&#x27;]&quot;).val($this.data(&#x27;taxo&#x27;));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $(&#x27;.js-demos-list-submit&#x27;).click();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">});</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>PS: Attention √† bien d√©tecter le clique sur le body plut√¥t que directement sur la classe !</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="permettre-laffichage-de-r√©sultats-en-fonction-de-2-champs-contextuels-diff√©rents"></a>Permettre l&#x27;affichage de r√©sultats en fonction de 2 champs contextuels diff√©rents<a class="hash-link" href="#permettre-laffichage-de-r√©sultats-en-fonction-de-2-champs-contextuels-diff√©rents" title="Direct link to heading">#</a></h2><p>Ex. J&#x27;ai cr√©√© un champ au niveau du node article appel√© &quot;co-auteur&quot;. Ainsi un utilisateur peut-√™tre auteur ou co-auteur d&#x27;un article. Pour afficher tous les articles dans lesquels il est auteur ou co-auteur :
utiliser le module <code>views_contextual_filters_or</code></p><p>Puis dans la vue :</p><ul><li>Mettre les 2 champs en filtres contextuels avec &quot;fournir une valeur par d√©faut&quot; (ici identifiant depuis le contexte de la route car je veux les articles de la personne logg√©e en ce moment).
-Dans param√®tres de la requ√™te, cocher &quot;contextual filter OR&quot;</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="titre-dune-vue"></a>Titre d&#x27;une vue<a class="hash-link" href="#titre-dune-vue" title="Direct link to heading">#</a></h2><p>le titre de votre vue ne s&#x27;affiche pas en front...
Pour l&#x27;afficher en front, il faut dans un module mettre :</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * Add title of the view on the views...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * + style on the krug lovers form</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">function customization_preprocess_views_view(&amp;$variables) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $view = $variables[&#x27;view&#x27;];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $variables[&#x27;title&#x27;] = [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &#x27;#markup&#x27; =&gt; $view-&gt;getTitle(),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="personnaliser-le-nom-des-onglets-block-page-de-la-vue-en-bo"></a>Personnaliser le nom des onglets (Block, Page) de la vue en BO<a class="hash-link" href="#personnaliser-le-nom-des-onglets-block-page-de-la-vue-en-bo" title="Direct link to heading">#</a></h2><ul><li>Sur la page de d√©tail de la vue, cliquer sur le <code>Display name</code> (en haut de la page)</li><li>Mettre √† jour le libell√©</li></ul><p>Vous pourrez alors afficher le titre de la vue sur votre front : {{title}}</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="compter-les-r√©sultats-dune-vue-en-dehors-de-cette-vue"></a>Compter les r√©sultats d&#x27;une vue en-dehors de cette vue<a class="hash-link" href="#compter-les-r√©sultats-dune-vue-en-dehors-de-cette-vue" title="Direct link to heading">#</a></h2><ul><li>{{ drupal_view_result(&#x27;brand_plans&#x27;, &#x27;block_1&#x27;)|length }}</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="passer-une-variable-√†-une-vue"></a>Passer une variable √† une vue<a class="hash-link" href="#passer-une-variable-√†-une-vue" title="Direct link to heading">#</a></h2><ul><li>Depuis Twig Tweak, on peut faire √ßa :</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{{ drupal_view(&#x27;article_a_lire_aussi&#x27;, &#x27;block_1&#x27;, 10) }}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Ce nombre 10 sera r√©cup√©r√© sur la vue ou sur l&#x27;unformatted de la vue avec :</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">view.args[0]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>!! A noter !! Cet argument (10) peut √™tre li√© avec des contextual filters :
Exemple : On cr√©√© un contextual filter sur l&#x27;id, 10 correspond √† l&#x27;id d&#x27;un node.</p><p>Par exemple je suis sur un node de contenu et je veux faire varier le nb d&#x27;items de ma vue en fonction du nombre d&#x27;items que j&#x27;ai sur un field &quot;field_a_lire_aussi&quot;, du c√¥t√© de mon node :</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{% for alire in content.field_a_lire_aussi[&#x27;#items&#x27;].getIterator() %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {{ drupal_entity(&#x27;node&#x27;, alire.entity.id(), &#x27;teaser&#x27;) }}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{% endfor %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{% set nb = content.field_a_lire_aussi[&#x27;#items&#x27;].getIterator()|length %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{{ drupal_view(&#x27;article_a_lire_aussi&#x27;, &#x27;block_1&#x27;, nb) }}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>et dans mon docroot/themes/custom/inaglobal/templates/view/article-a-lire-aussi/views-view-unformatted--article-a-lire-aussi.html.twig :</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{% set nbAlreadyDisplayed = (3 - view.args[0]) %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{% for row in rows %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {% if loop.index &lt;= nbAlreadyDisplayed %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {{ row.content }}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {% if loop.index != loop.last %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &lt;div class=&quot;mb-2&quot;&gt;&lt;/div&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {% endif %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {% endif %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{% endfor %}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="afficher-tous-les-nodes-qui-ont-le-m√™me-referenced-entity-parent"></a>Afficher tous les nodes qui ont le m√™me referenced entity parent<a class="hash-link" href="#afficher-tous-les-nodes-qui-ont-le-m√™me-referenced-entity-parent" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="exemple"></a>Exemple<a class="hash-link" href="#exemple" title="Direct link to heading">#</a></h3><ul><li>J&#x27;ai un type de contenu &quot;s√©rie&quot;</li><li>J&#x27;ai un type de contenu &quot;√©pisode&quot;</li><li>chaque √©pisode r√©f√©rence une entit√© s√©rie via &quot;field_serie&quot;</li><li>Lorsque j&#x27;affiche un √©pisode, je veux afficher TOUS les autres √©pisodes de cette s√©rie</li></ul><ol><li>Je cr√©e dans ma vue une relation &quot;content r√©f√©renc√© depuis field_serie&quot;</li><li>Je cr√©e une autre relation &quot;content utilise field_serie&quot; avec comme relation la relation pr√©c√©dente</li><li>Je cr√©e un filtre contextuel sur l&#x27;ID de node avec en relation la seconde (content utilise field_serie) et je fournis en valeur par d√©faut identifiant (ID) √† partir de l&#x27;URL
=&gt; Cela va afficher tous les √©pisodes de la s√©rie (y compris celui qui s&#x27;affiche en √©pisode pricnipal sur ma page)</li><li>Je cr√©e un nouveau filtre contextuel sur l&#x27;ID de node (encore) sans relation et avec en valeur par d√©faut l&#x27;identifiant √† partir de l&#x27;URL et tout en bas dans &quot;more&quot; je clique sur exclure
=&gt; Cela affiche TOUS les √©pisodes de la s√©rie de l&#x27;√©pisode affich√© sur la page, sauf l&#x27;√©pisode lui-m√™me !</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="traductions"></a>Traductions<a class="hash-link" href="#traductions" title="Direct link to heading">#</a></h2><ol><li>Ajouter un crit√®re de filtre</li><li>S√©l√©ctionner &quot;content : translation language&quot;</li><li>Filtrer sur &quot;Interface text language selected for page&quot;</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="cr√©er-une-url-de-vue-en-fonction-de-la-langue"></a>Cr√©er une URL de vue en fonction de la langue<a class="hash-link" href="#cr√©er-une-url-de-vue-en-fonction-de-la-langue" title="Direct link to heading">#</a></h2><ol><li>Aller dans &#x27;admin/configuration/url aliases&#x27; et cr√©er un alias du chemin de la vue dans la langue souhait√©e. Pour l&#x27;utiliser depuis twig, se r√©f√©rer √† &quot;Afficher l&#x27;url d&#x27;une vue&quot; plus haut.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="cr√©er-une-vue-dadmin"></a>Cr√©er une vue d&#x27;admin<a class="hash-link" href="#cr√©er-une-vue-dadmin" title="Direct link to heading">#</a></h2><ul><li>Cr√©er une vue</li><li>Dans la vue : Lui mettre un chemin d&#x27;url (qui commence par /admin)</li><li>Dans la vue : L&#x27;associer √† un menu de la navigation admin</li><li>Pour rendre les colonnes triables au clic sur l&#x27;ent√™te, dans le Format:Tableau entrer dans <strong>Param√®tres</strong> et cocher les cases dans la colonne <strong>Classable</strong></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="cr√©√©r-un-bouton-daction-sur-les-vues-dadmin"></a>Cr√©√©r un bouton d&#x27;action sur les vues d&#x27;admin<a class="hash-link" href="#cr√©√©r-un-bouton-daction-sur-les-vues-dadmin" title="Direct link to heading">#</a></h2><ol><li>Activer le module Views Add Button</li><li>Dans la vue concern√©e, dans ENTETE, ajouter et configurer un Entity Add Button :</li></ol><ul><li>Entity Type = S√©lectionner l&#x27;entit√© concern√©e</li><li>Button Text for the add button = Libell√© du bouton (e.g. Ajouter un article)</li><li>Button classes for the add link = Coller les classes : button button-action button--primary button--small</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="vue-par-d√©faut-dadmin-des-contenus"></a>Vue par d√©faut d&#x27;admin des contenus<a class="hash-link" href="#vue-par-d√©faut-dadmin-des-contenus" title="Direct link to heading">#</a></h2><p>Si la vue admin/content n&#x27;existe plus (supprim√© par erreur ou supprim√© par Drupal), voici le moyen de la recr√©er :</p><ul><li>Goto Configuration &gt; Development &gt; Synchronization &gt; Import tab &gt; Single item, Configuration type: View and paste into the code below into &quot;Paste your configuration here&quot; and press Import. et importer la vue qui est sauvegard√©e en yml.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="cr√©er-une-vue-rss"></a>Cr√©er une vue RSS<a class="hash-link" href="#cr√©er-une-vue-rss" title="Direct link to heading">#</a></h2><ol><li>Ajouter une page de type Flux √† la vue content par d√©faut</li><li>Param√®tre du flux : Cr√©er le chemin (e.g. /rss)</li><li>Configurer la vue :</li></ol><ul><li>Ajouter les champs Titre, chapo, publi√© le, √©crit par, lien vers le contenu (rendre l&#x27;url en tant que texte)</li><li>Format : Afficher Param√®tre puis faire la mapping avec les champs ajouter pr√©c√©demment</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="configurer-les-liens"></a>Configurer les liens<a class="hash-link" href="#configurer-les-liens" title="Direct link to heading">#</a></h3><p>Il s&#x27;agit d&#x27;une vue.
Pour cr√©er le lien vers les nodes, utiliser l&#x27;id de chaque node et faire une r√©√©criture de ces ids avec <code>/node/{{nid}}</code> dedans.
Ils seront r√©√©cris avec la bonne url</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="exporter-une-vue-en-csv"></a>Exporter une vue en csv<a class="hash-link" href="#exporter-une-vue-en-csv" title="Direct link to heading">#</a></h2><p>Permettre l&#x27;export du catalogue: utiliser les plugins csv_serialization et views_data_export.</p><ul><li>Aller dans la vue et cr√©er une vue exportation des donn√©es. Bien lister l&#x27;ensemble des infos et v√©rifier que dans format/param√®tres, la case &quot;csv&quot; est bien coch√©e. V√©rifier que la vue fonctionne puis mettre le chemin souhait√© (ex. /admin/export/catalogue fichier: catalogue.csv). Aller dans Admin/Structure/menus/administration/ajouter un lien et mettre le lien vers cet export avec : /admin/export/catalogue?_format=csv</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="filtrer-par-ann√©e"></a>Filtrer par ann√©e<a class="hash-link" href="#filtrer-par-ann√©e" title="Direct link to heading">#</a></h2><p>ATTENTION : pour filtrer par ann√©e : il faut un patch a views : <a href="https://www.drupal.org/files/issues/2786577-270_0.patch" target="_blank" rel="noopener noreferrer">https://www.drupal.org/files/issues/2786577-270_0.patch</a></p><ul><li>article <a href="https://www.flocondetoile.fr/blog/filter-content-year-views-drupal-8" target="_blank" rel="noopener noreferrer">https://www.flocondetoile.fr/blog/filter-content-year-views-drupal-8</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="search"></a>Search<a class="hash-link" href="#search" title="Direct link to heading">#</a></h2><p>Pour pouvoir rechercher des views, on a utilis√© un trick (Drupal ne sait pas faire de l&#x27;index SolR sur les vues...):</p><ol><li>On cr√©e un type de contenu bloc (search-views) avec un titre et un lien et un body</li><li>Pour chaque lien vers une page de views qu&#x27;on veut trouver, on cr√©e un bloc de ce type</li><li>On va ajouter ce bloc dans le search index Drupal en mettant un poids fort au titre du bloc (pour qu&#x27;il ressorte en premier)</li><li>Dans la vue de recherche on n&#x27;oublie pas d&#x27;ajouter les champs de ces blocs en r√©sultat.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ne-pas-afficher-le-node-actif-dans-une-vue"></a>Ne pas afficher le node actif dans une vue<a class="hash-link" href="#ne-pas-afficher-le-node-actif-dans-une-vue" title="Direct link to heading">#</a></h2><p>Si vous avez une vue int√©gr√©e dans un node (par exemple &quot;autres articles&quot; affich√©s sous un article) et que vous ne voulez pas que le node actif ne s&#x27;affiche dans la vue:</p><ul><li>Aller dans la vue, filtre contextuel</li><li>Ajouter l&#x27;ID et remplir &quot;fournir une valeur par d√©faut&quot; &quot;Quand la valeur de filtre n&#x27;est pas dispo&quot; avec l&#x27;IDdu contenu √† partir de l&#x27;URL</li><li>Tout en bas, dans &quot;MORE&quot;, cocher exclure, pour exclure cette valeur d&#x27;ID.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="form-exposed--ajouter-un-style-ou-une-classe-au-tag-form"></a>form exposed : Ajouter un style ou une classe au tag <code>&lt;form&gt;</code><a class="hash-link" href="#form-exposed--ajouter-un-style-ou-une-classe-au-tag-form" title="Direct link to heading">#</a></h2><p>  Le twig exposed ne contient pas le tag form. Il faut passer par un module pour modifier ce tag. Par exemple:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * Add style on the lovers form</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">function customization_preprocess_views_view(&amp;$variables) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  if ($variables[&#x27;id&#x27;] === &#x27;lovers&#x27;) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $variables[&#x27;exposed&#x27;][&#x27;#attributes&#x27;][&#x27;style&#x27;] = &#x27;display:flex; align-self: flex-end&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Sur le formulaire de la vue lovers, on va ajouter <code>style=&quot;display:flex; align-self: flex-end&quot;</code> sur le tag form.
Pour ajouter une classe : <code>$variables[&#x27;exposed&#x27;][&#x27;#attributes&#x27;][&#x27;class&#x27;][] = &#x27;myClass&#x27;;</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="form-exposed--s√©parer-le-champ-sort_by-des-champs-de-filtrage-"></a>form exposed : S√©parer le champ sort_by des champs de filtrage :<a class="hash-link" href="#form-exposed--s√©parer-le-champ-sort_by-des-champs-de-filtrage-" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{{ form|without(&#x27;sort_by&#x27;) }}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{{ form.sort_by }}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Il suffit d&#x27;afficher d&#x27;abord le form SANS le field en question, puis afficher s√©par√©ment le field voulu. Valable pour d&#x27;autres objets Drupal.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="form-exposed--skinner-les-champs-de-filtre-et-de-tri"></a>form exposed : Skinner les champs de filtre et de tri<a class="hash-link" href="#form-exposed--skinner-les-champs-de-filtre-et-de-tri" title="Direct link to heading">#</a></h2><p>une premi√®re solution est d&#x27;utiliser le module BEF (Better Exposed Filter), mais cela peut-√™tre compliqu√© d&#x27;arriver au r√©sultat souhait√©.</p><p>Une autre solution : Le faire soi-m√™me. Voici comment cr√©er un filtrage + tri en ajax sur une vue.</p><ol><li>Cocher &quot;ajax&quot; dans la vue, configurer les filtres et les tris expos√©s √† l&#x27;utilisateur (si on ne veut pas rendre l&#x27;ordre de tri sl√©ecitonnable par d√©faut, il faut aller le d√©cocher dans Advanced/exposed form/Exposed form style/settings)</li><li>sur le front, utiliser les suggestions pour sp√©cialiser le html de l&#x27;exposed et des champs.
Pour remplacer un select par des ul/li par exemple, il suffit de cacher le select, de cacher le bouton de soumission du formulaire, et d&#x27;ajouter du js pour qu&#x27;au clic sur un li, on mette √† jour la valeur du select puis on clique sur le bouton de soumission. Exemple pour un &quot;trier par&quot; on cr√©er un twig <code>select--sort-by.html.twig</code> :</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{% spaceless %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;select{{ attributes.addClass(&#x27;js-select-sortby&#x27;).setAttribute(&#x27;style&#x27;, &#x27;display:none&#x27;) }}&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {% for option in options %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      {% if option.type == &#x27;optgroup&#x27; %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &lt;optgroup label=&quot;{{ option.label }}&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          {% for sub_option in option.options %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &lt;option value=&quot;{{ sub_option.value }}&quot;{{ sub_option.selected ? &#x27; selected=&quot;selected&quot;&#x27; }}&gt;{{ sub_option.label }}&lt;/option&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          {% endfor %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &lt;/optgroup&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      {% elseif option.type == &#x27;option&#x27; %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &lt;option value=&quot;{{ option.value }}&quot;{{ option.selected ? &#x27; selected=&quot;selected&quot;&#x27; }}&gt;{{ option.label }}&lt;/option&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      {% endif %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {% endfor %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;/select&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{% endspaceless %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;div class=&quot;filter-block&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;ul class=&quot;filter-list w-list-unstyled&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {% for option in options %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &lt;li class=&quot;filter-item{{ option.selected ? &#x27; active&#x27; }}&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &lt;div data-selectid=&quot;{{ option.value }}&quot; class=&quot;js-select-ajax-sortby&quot;&gt;{{ option.label }}&lt;/div&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &lt;/li&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            {% if option.selected %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &lt;script&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  if (window.jQuery) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                      jQuery(&#x27;.filter-container&#x27;).find(&#x27;.js-btn-sortby&#x27;).html(&#x27;{{ option.label }}&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &lt;/script&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            {% endif %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {% endfor %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;/ul&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/div&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;script&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (!window.jQuery) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  document.addEventListener(&quot;DOMContentLoaded&quot;, function(event) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    jQuery(&#x27;.js-select-ajax-sortby&#x27;).on(&#x27;click&#x27;, function() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        jQuery(this).closest(&#x27;.filter-selector&#x27;).find(&#x27;.js-select-sortby&#x27;).val(jQuery(this).data(&#x27;selectid&#x27;));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        jQuery(this).closest(&#x27;form&#x27;).find(&#x27;.js-form-submit&#x27;).click()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    })</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  });</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">} else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  jQuery(&#x27;.js-select-ajax-sortby&#x27;).on(&#x27;click&#x27;, function() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      jQuery(this).closest(&#x27;.filter-selector&#x27;).find(&#x27;.js-select-sortby&#x27;).val(jQuery(this).data(&#x27;selectid&#x27;));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      jQuery(this).closest(&#x27;form&#x27;).find(&#x27;.js-form-submit&#x27;).click()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  })</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/script&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>La premi√®re partie est du copier/coller du select d&#x27;origine avec <code>.addClass(&#x27;js-select-sortby&#x27;).setAttribute(&#x27;style&#x27;, &#x27;display:none&#x27;)</code>qui permet de lui attacher une classe qui nous servira √† le trouver facilement, et un atrribut display:none pour le cacher.</p><p>La seconde partie est le html souhait√©.
Le js, enfin permet de d√©tecter quand on clique sur le li de :</p><ol><li>retrouver le select et lui mettre la valeur s√©lectionn√©e</li><li>cliquer sur le bouton &quot;soumettre&quot; qui va faire l&#x27;appel ajax.</li></ol><p>Le test <code>if(!window.jQuery)</code> permet de savoir si on load ce twig avec la page (au premier chargement), ou si ce twig est retourn√© lors des appels ajax suivants. C&#x27;est aussi simple que √ßa ! En conservant le select d&#x27;origine de Drupal, on b√©n√©ficie de toutes ses fonctionnalit√©s associ√©es (appel d&#x27;ajax).</p><p>Une autre solution pour le js serait de le d√©placer dans un drupal-ajax.js.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="dans-une-view-dans-lexposed-filter-nafficher-que-les-termes-de-taxonomie-qui-ont-au-moins-un-node-associ√©"></a>Dans une view, dans l&#x27;exposed filter, n&#x27;afficher que les termes de taxonomie qui ont au moins un node associ√©<a class="hash-link" href="#dans-une-view-dans-lexposed-filter-nafficher-que-les-termes-de-taxonomie-qui-ont-au-moins-un-node-associ√©" title="Direct link to heading">#</a></h2><p>dans le fichier montheme.theme, cr√©er 2 fonctions:</p><ul><li>getNodesByTaxonomyTermIds va ramener le tableau de termIds qui ont au moins un node associ√©</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function montheme_form_views_exposed_form_alter(&amp;$form, &amp;$form_state, $form_id) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  if($form[&#x27;#id&#x27;] == &#x27;views-exposed-form-agenda-page-1&#x27;) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Kint::dump($form);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $termIds = getNodesByTaxonomyTermIds(array_keys($form[&#x27;field_thematiques_target_id&#x27;][&#x27;#options&#x27;]));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    foreach ($form[&#x27;field_thematiques_target_id&#x27;][&#x27;#options&#x27;] as $term_key =&gt; $term) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      if(!in_array($term_key,$termIds)) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Check if this is a child by looking for &#x27;-&#x27; as first char in string</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        unset($form[&#x27;field_thematiques_target_id&#x27;][&#x27;#options&#x27;][$term_key]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">function getNodesByTaxonomyTermIds($termIds){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $termIds = (array) $termIds;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  if(empty($termIds)){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return $termIds;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $query = \Drupal::database()-&gt;select(&#x27;taxonomy_index&#x27;, &#x27;ti&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $query-&gt;fields(&#x27;ti&#x27;, array(&#x27;tid&#x27;));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $query-&gt;innerJoin(&#x27;node&#x27;, &#x27;n&#x27;, &#x27;n.nid = ti.nid&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $query-&gt;condition(&#x27;ti.tid&#x27;, $termIds, &#x27;IN&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $query-&gt;condition(&#x27;n.type&#x27;, &#x27;evenement&#x27;, &#x27;=&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $query-&gt;groupBy(&#x27;tid&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $result = $query-&gt;execute();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $termIds = $result-&gt;fetchCol());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  return $termIds;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ul><li>Pour ne pas afficher les enfants de la taxonomie, il suffit dans les crit√®res de filtrage de s√©lectionner uniquement les valeurs √† afficher puis √† cocher &quot;limiter la liste aux √©l√©ments s√©lectionn√©s&quot;.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="appeler-un-template-de-node-dans-une-vue-en-fonction-de-sa-position-dans-la-vue"></a>Appeler un template de node dans une vue en fonction de sa position dans la vue<a class="hash-link" href="#appeler-un-template-de-node-dans-une-vue-en-fonction-de-sa-position-dans-la-vue" title="Direct link to heading">#</a></h2><ul><li>dans &quot;montheme.theme&quot;:<div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  function montheme_theme_suggestions_node_alter(&amp;$suggestions, array $variables) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $suggestions[] = sprintf(&#x27;%s__%s&#x27;, $suggestions[count($suggestions) - 2], $variables[&#x27;elements&#x27;][&#x27;#view_mode&#x27;]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li><li>le code dans le twig &quot;views-view--unformatted&quot;:<div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {% for row in rows %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {% set rowContent = row.content %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {% if loop.first %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      {% set rowContent = rowContent | merge({&#x27;#view_mode&#x27;: &#x27;full_1&#x27;}) %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {% endif %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {{ rowContent }}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {% endfor %}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li><li>cr√©er un twig personnalis√© &quot;node--view--hub-articles--full-1.html.twig&quot;.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="passer-lindex-du-node-dans-la-vue-au-node"></a>Passer l&#x27;index du node dans la vue au node<a class="hash-link" href="#passer-lindex-du-node-dans-la-vue-au-node" title="Direct link to heading">#</a></h2><p>pour un twig node--evenement--default:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function montheme_preprocess_node__evenement__default(&amp;$vars) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $view = $vars[&#x27;view&#x27;];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $node = $vars[&#x27;node&#x27;];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    foreach($view-&gt;result as $key =&gt; $row){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if($row-&gt;nid == $node-&gt;id()){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            $vars[&#x27;row_index&#x27;] = $row-&gt;index;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>(si le twig s&#x27;appellait node--view--home-evenements.html.twig, on aurait comme nom de fonction
montheme_preprocess_node<strong>view</strong>home_evenements(&amp;$vars))</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="pour-interpr√©ter-le-html-dun-champ"></a>Pour interpr√©ter le HTML d&#x27;un champ<a class="hash-link" href="#pour-interpr√©ter-le-html-dun-champ" title="Direct link to heading">#</a></h2><ul><li>dans le cas d&#x27;une vue qui expose des champs, il faut faire :</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function h1765_preprocess_views_view_field(&amp;$variables, $hook) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $name = $variables[&#x27;field&#x27;]-&gt;field;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  switch($name){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    case &#x27;field_chapo&#x27;:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      $variables[&#x27;output&#x27;] = html_entity_decode($variables[&#x27;output&#x27;]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    break;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ul><li>et cr√©er le views-view-field--field-NOMDUCHAMP.html.twig avec {{ output|raw}}</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="corriger-lerreur-daffichage-des-enfants-dans-une-view-"></a>Corriger l&#x27;erreur d&#x27;affichage des enfants dans une view :<a class="hash-link" href="#corriger-lerreur-daffichage-des-enfants-dans-une-view-" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{% for row in rows %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      {{ row.content }}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{% endfor %}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="afficher-le-nom-dune-valeur-de-taxonomie-depuis-un-row-in-rows"></a>Afficher le nom d&#x27;une valeur de taxonomie depuis un row in rows<a class="hash-link" href="#afficher-le-nom-dune-valeur-de-taxonomie-depuis-un-row-in-rows" title="Direct link to heading">#</a></h2><p><code>{{ row.content[&#x27;#node&#x27;].field_categorie_document.0.entity.name.value }}</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="trier-un-r√©sultat-en-fonction-de-la-date-de-modification"></a>Trier un r√©sultat en fonction de la date de modification<a class="hash-link" href="#trier-un-r√©sultat-en-fonction-de-la-date-de-modification" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="si-voulez-en-faire-un-filtre-en-front-class√©-pas-date-la-plus-r√©cente"></a>Si voulez en faire un filtre en front class√© pas date la plus r√©cente<a class="hash-link" href="#si-voulez-en-faire-un-filtre-en-front-class√©-pas-date-la-plus-r√©cente" title="Direct link to heading">#</a></h3><ul><li>Critere de tri</li><li>Ajouter un crit√®re de tri de type <code>Contenu : Modifi√©</code> - <code>Content: Changed</code></li><li>Cocher <code>exposer ce tri aux visiteurs</code></li><li>Etiquette/label <code>plus r√©cent/newer fisrt</code></li><li>Choisissez <code>Trier par ordre d√©croissant</code></li><li>Granularit√© <code>minute</code></li><li><code>Appliquer</code></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="si-voulez-en-faire-un-filtre-en-front-class√©-pas-date-la-plus-anciennne"></a>Si voulez en faire un filtre en front class√© pas date la plus anciennne<a class="hash-link" href="#si-voulez-en-faire-un-filtre-en-front-class√©-pas-date-la-plus-anciennne" title="Direct link to heading">#</a></h3><ul><li>Critere de tri</li><li>Ajouter un crit√®re de tri de type <code>Contenu : Modifi√©</code> - <code>Content: Changed</code></li><li>Cocher <code>exposer ce tri aux visiteurs</code></li><li>Etiquette/label <code>plus ancienne/older fisrt</code></li><li>Choisissez <code>Trier par ordre croissant</code></li><li>Granularit√© <code>minute</code></li><li><code>Appliquer</code></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="changer-la-port√©e-de-la-recherche-dans-un-champ-de-type-entity-reference"></a>Changer la port√©e de la recherche dans un champ de type Entity reference<a class="hash-link" href="#changer-la-port√©e-de-la-recherche-dans-un-champ-de-type-entity-reference" title="Direct link to heading">#</a></h2><p>Par d√©faut la recherche dans un champ de type &quot;Entity reference&quot; se fait sur le titre du contenu. Pour pouvoir chercher sur un autre champs du node :</p><ol><li>Cr√©er une vue qui porte sur le contenu concern√©,</li><li>Cliquer sur Ajouter et choisir Entity reference</li><li>Dans FORMAT :</li></ol><ul><li>Format : Liste Entity Reference | Dans Param√®tres choisir les champs sur lesquels va porter la recherche (ex: identifiant, titre)</li><li>Afficher : Champs Entity Reference en ligne | Dans Param√®tres choisir si n√©cessaire les champs qui seront affich√©s dans le champ de recherche</li></ul><ol><li>Maintenant il fait appliquer cette vue sur un champ de type entity reference</li></ol><ul><li>Ajouter un champ de type entity reference sur le type de contenu concern√©</li><li>Dans Reference type :<ul><li>REFERENCE METHOD choisir Filter by an entity reference view</li><li>VIEW USED TO SELECT THE ENTITIES s√©lectionner la vue pr√©alablement cr√©√©e</li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="liste-des-urls-des-nodes"></a>Liste des urls des nodes<a class="hash-link" href="#liste-des-urls-des-nodes" title="Direct link to heading">#</a></h2><ul><li>Cr√©er une vue format Table</li><li>Dans champs choisir &quot;Lien vers Content&quot; et cocher &quot;Rendre l&#x27;URL en tant que texte&quot;</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="choisir-la-profondeur-daffichage-dune-taxonomie-dans-une-vue"></a>Choisir la profondeur d&#x27;affichage d&#x27;une taxonomie dans une vue<a class="hash-link" href="#choisir-la-profondeur-daffichage-dune-taxonomie-dans-une-vue" title="Direct link to heading">#</a></h2><ul><li>Dans AVANC√â / FILTRES CONTEXTUELS</li><li>Ajouter le filtre &quot;Poss√®de l&#x27;identifiant de terme de taxonomie (avec profondeur)&quot;</li><li>Puis choisir le niveau de profondeur souhait√© (O = le niveau lui-m√™me, 1 = lui-m√™me et ses enfants, 2 =  lui-m√™me, ses enfants et ses petits enfants, ...)</li><li>Pour √©viter les doublons, dans Param√®tres de la requ√™te, cocher Distinct</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="permettre-dordonner-√†-la-main-les-√©l√©ments-dune-vue"></a>Permettre d&#x27;ordonner √† la main les √©l√©ments d&#x27;une vue<a class="hash-link" href="#permettre-dordonner-√†-la-main-les-√©l√©ments-dune-vue" title="Direct link to heading">#</a></h2><p>(<a href="https://kgaut.net/blog/2016/module-drupal-8-weight-pour-trier-les-contenus.html" target="_blank" rel="noopener noreferrer">https://kgaut.net/blog/2016/module-drupal-8-weight-pour-trier-les-contenus.html</a>)</p><ul><li>Installer le module weight : <a href="https://www.drupal.org/project/weight" target="_blank" rel="noopener noreferrer">https://www.drupal.org/project/weight</a></li><li>Ajouter un champ de ce type au type de contenu qu&#x27;on utilisera dans la vue (ici nous avons appel√© ce champ <code>position</code>)</li><li>Dans la vue, Dans les champs, s√©lectionner : <code>Content: Position Selector (Position Selector (field_position))</code></li><li>Dans sort criteria s√©lectionner : <code>Content: Position (asc)</code></li><li>Dans Page Settings choisir une URL pour y acc√©der depuis le menu d&#x27;admin (<code>Path:/admin/champagne-sorting</code>) par exemple et ou cette vue apparait dans le menu (par exemple <code>Menu:Normal: Champagne sortin...</code>) et la limiter au r√¥le d&#x27;admin (<code>Access:Role | Administrateur</code>)</li></ul><p>Le tour est jou√© ! Cette manip permet de proposer du glisser/d√©poser sur la vue dans l&#x27;admin, ce qui va modifier le poids des nodes et les ordonner en fonction de ces poids.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="nafficher-sur-le-vue-que-les-contenus-de-lutilisateur-connect√©"></a>N&#x27;afficher sur le vue que les contenus de l&#x27;utilisateur connect√©<a class="hash-link" href="#nafficher-sur-le-vue-que-les-contenus-de-lutilisateur-connect√©" title="Direct link to heading">#</a></h2><ul><li>Dans Advanced, ajouter une relation (RELATIONSHIPS) et choisir <code>User</code></li><li>Dans Filter criteria, ajouter le crit√®re User :<ul><li>Operator = Is equal to, Is the logged in user = Yes</li></ul></li></ul></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/dynamisation/paragraphs"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ paragraphs</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/dynamisation/search"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">search ¬ª</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link">Introduction</a><ul><li><a href="#g√©rer-les-r√©p√©titions" class="table-of-contents__link">G√©rer les r√©p√©titions</a></li><li><a href="#cr√©er-une-page-de-vue" class="table-of-contents__link">Cr√©er une page de vue</a></li><li><a href="#permettre-la-s√©lection-√†-lutilisateur" class="table-of-contents__link">Permettre la s√©lection √† l&#39;utilisateur</a></li><li><a href="#impl√©menter-ajax" class="table-of-contents__link">Impl√©menter Ajax</a></li><li><a href="#les-suggestions-en-ajax-pager-filters-etc" class="table-of-contents__link">Les suggestions en ajax (pager, filters, etc...)</a></li></ul></li><li><a href="#permettre-laffichage-de-r√©sultats-en-fonction-de-2-champs-contextuels-diff√©rents" class="table-of-contents__link">Permettre l&#39;affichage de r√©sultats en fonction de 2 champs contextuels diff√©rents</a></li><li><a href="#titre-dune-vue" class="table-of-contents__link">Titre d&#39;une vue</a></li><li><a href="#personnaliser-le-nom-des-onglets-block-page-de-la-vue-en-bo" class="table-of-contents__link">Personnaliser le nom des onglets (Block, Page) de la vue en BO</a></li><li><a href="#compter-les-r√©sultats-dune-vue-en-dehors-de-cette-vue" class="table-of-contents__link">Compter les r√©sultats d&#39;une vue en-dehors de cette vue</a></li><li><a href="#passer-une-variable-√†-une-vue" class="table-of-contents__link">Passer une variable √† une vue</a></li><li><a href="#afficher-tous-les-nodes-qui-ont-le-m√™me-referenced-entity-parent" class="table-of-contents__link">Afficher tous les nodes qui ont le m√™me referenced entity parent</a><ul><li><a href="#exemple" class="table-of-contents__link">Exemple</a></li></ul></li><li><a href="#traductions" class="table-of-contents__link">Traductions</a></li><li><a href="#cr√©er-une-url-de-vue-en-fonction-de-la-langue" class="table-of-contents__link">Cr√©er une URL de vue en fonction de la langue</a></li><li><a href="#cr√©er-une-vue-dadmin" class="table-of-contents__link">Cr√©er une vue d&#39;admin</a></li><li><a href="#cr√©√©r-un-bouton-daction-sur-les-vues-dadmin" class="table-of-contents__link">Cr√©√©r un bouton d&#39;action sur les vues d&#39;admin</a></li><li><a href="#vue-par-d√©faut-dadmin-des-contenus" class="table-of-contents__link">Vue par d√©faut d&#39;admin des contenus</a></li><li><a href="#cr√©er-une-vue-rss" class="table-of-contents__link">Cr√©er une vue RSS</a><ul><li><a href="#configurer-les-liens" class="table-of-contents__link">Configurer les liens</a></li></ul></li><li><a href="#exporter-une-vue-en-csv" class="table-of-contents__link">Exporter une vue en csv</a></li><li><a href="#filtrer-par-ann√©e" class="table-of-contents__link">Filtrer par ann√©e</a></li><li><a href="#search" class="table-of-contents__link">Search</a></li><li><a href="#ne-pas-afficher-le-node-actif-dans-une-vue" class="table-of-contents__link">Ne pas afficher le node actif dans une vue</a></li><li><a href="#form-exposed--ajouter-un-style-ou-une-classe-au-tag-form" class="table-of-contents__link">form exposed : Ajouter un style ou une classe au tag <code>&lt;form&gt;</code></a></li><li><a href="#form-exposed--s√©parer-le-champ-sort_by-des-champs-de-filtrage-" class="table-of-contents__link">form exposed : S√©parer le champ sort_by des champs de filtrage :</a></li><li><a href="#form-exposed--skinner-les-champs-de-filtre-et-de-tri" class="table-of-contents__link">form exposed : Skinner les champs de filtre et de tri</a></li><li><a href="#dans-une-view-dans-lexposed-filter-nafficher-que-les-termes-de-taxonomie-qui-ont-au-moins-un-node-associ√©" class="table-of-contents__link">Dans une view, dans l&#39;exposed filter, n&#39;afficher que les termes de taxonomie qui ont au moins un node associ√©</a></li><li><a href="#appeler-un-template-de-node-dans-une-vue-en-fonction-de-sa-position-dans-la-vue" class="table-of-contents__link">Appeler un template de node dans une vue en fonction de sa position dans la vue</a></li><li><a href="#passer-lindex-du-node-dans-la-vue-au-node" class="table-of-contents__link">Passer l&#39;index du node dans la vue au node</a></li><li><a href="#pour-interpr√©ter-le-html-dun-champ" class="table-of-contents__link">Pour interpr√©ter le HTML d&#39;un champ</a></li><li><a href="#corriger-lerreur-daffichage-des-enfants-dans-une-view-" class="table-of-contents__link">Corriger l&#39;erreur d&#39;affichage des enfants dans une view :</a></li><li><a href="#afficher-le-nom-dune-valeur-de-taxonomie-depuis-un-row-in-rows" class="table-of-contents__link">Afficher le nom d&#39;une valeur de taxonomie depuis un row in rows</a></li><li><a href="#trier-un-r√©sultat-en-fonction-de-la-date-de-modification" class="table-of-contents__link">Trier un r√©sultat en fonction de la date de modification</a><ul><li><a href="#si-voulez-en-faire-un-filtre-en-front-class√©-pas-date-la-plus-r√©cente" class="table-of-contents__link">Si voulez en faire un filtre en front class√© pas date la plus r√©cente</a></li><li><a href="#si-voulez-en-faire-un-filtre-en-front-class√©-pas-date-la-plus-anciennne" class="table-of-contents__link">Si voulez en faire un filtre en front class√© pas date la plus anciennne</a></li></ul></li><li><a href="#changer-la-port√©e-de-la-recherche-dans-un-champ-de-type-entity-reference" class="table-of-contents__link">Changer la port√©e de la recherche dans un champ de type Entity reference</a></li><li><a href="#liste-des-urls-des-nodes" class="table-of-contents__link">Liste des urls des nodes</a></li><li><a href="#choisir-la-profondeur-daffichage-dune-taxonomie-dans-une-vue" class="table-of-contents__link">Choisir la profondeur d&#39;affichage d&#39;une taxonomie dans une vue</a></li><li><a href="#permettre-dordonner-√†-la-main-les-√©l√©ments-dune-vue" class="table-of-contents__link">Permettre d&#39;ordonner √† la main les √©l√©ments d&#39;une vue</a></li><li><a href="#nafficher-sur-le-vue-que-les-contenus-de-lutilisateur-connect√©" class="table-of-contents__link">N&#39;afficher sur le vue que les contenus de l&#39;utilisateur connect√©</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/setup/introduction">Docs</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://abecms.slack.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Website</h4><ul class="footer__items"><li class="footer__item"><a href="https://livingcolor.fr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_31Aa"><img class="footer__logo" alt="Facebook Open Source Logo" src="https://docusaurus.io/img/oss_logo.png"></a></div><div class="footer__copyright">Copyright ¬© 2021 Abe SAS. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.dd3b91b9.js"></script>
<script src="/runtime~main.6756130f.js"></script>
<script src="/main.901730ae.js"></script>
<script src="/1.610b12b6.js"></script>
<script src="/2.2611d948.js"></script>
<script src="/41.ff57316b.js"></script>
<script src="/44.23577ab9.js"></script>
<script src="/935f2afb.70e75e8c.js"></script>
<script src="/17896441.ea08961a.js"></script>
<script src="/ff4c89f9.7558dd5e.js"></script>
</body>
</html>