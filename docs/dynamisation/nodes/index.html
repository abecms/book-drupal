<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Drupal Stickers Book Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Drupal Stickers Book Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Drupal Stickers Book" href="/opensearch.xml"><title data-react-helmet="true">nodes | Drupal Stickers Book</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="nodes | Drupal Stickers Book"><meta data-react-helmet="true" name="description" content="Nodes"><meta data-react-helmet="true" property="og:description" content="Nodes"><meta data-react-helmet="true" property="og:url" content="https://drupal.livingcolor.academy/docs/dynamisation/nodes"><link data-react-helmet="true" rel="shortcut icon" href="/img/logo-white.png"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://drupal.livingcolor.academy/docs/dynamisation/nodes"><link rel="stylesheet" href="/styles.e5366e45.css">
<link rel="preload" href="/styles.dd3b91b9.js" as="script">
<link rel="preload" href="/runtime~main.ed3b1bb8.js" as="script">
<link rel="preload" href="/main.2d4ecd67.js" as="script">
<link rel="preload" href="/1.610b12b6.js" as="script">
<link rel="preload" href="/2.2611d948.js" as="script">
<link rel="preload" href="/41.ff57316b.js" as="script">
<link rel="preload" href="/44.23577ab9.js" as="script">
<link rel="preload" href="/935f2afb.70e75e8c.js" as="script">
<link rel="preload" href="/17896441.ea08961a.js" as="script">
<link rel="preload" href="/8c5cea80.e62ac5ec.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="livingcolor" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="livingcolor" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Drupal Stickers Recipes</strong></a><a class="navbar__item navbar__link" href="/docs/setup/introduction">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="livingcolor" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="livingcolor" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Drupal Stickers Recipes</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/setup/introduction">Docs</a></li><li class="menu__list-item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Setup</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/setup/introduction">introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/setup/setup">setup</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Configuration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config/configuration">configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config/multilingue">multilingue</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config/webforms">webforms</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config/blocks">blocks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config/commerce">commerce</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config/nodes">nodes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config/seo">seo</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Dynamisation</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/dynamisation/nodes">nodes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/paragraphs">paragraphs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/views">views</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/search">search</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/forms">forms</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/taxonomies">taxonomies</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/tokens">tokens</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/images">images</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/users">users</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/comments">comments</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/newsletters">newsletters</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/menus">menus</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/ckeditor">ckeditor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/modules">modules</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dynamisation/domains">domains</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev/dev">dev</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev/debug">debug</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev/tests">tests</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">nodes</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="nodes"></a>Nodes<a class="hash-link" href="#nodes" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="partage-dun-article"></a>Partage d&#x27;un article<a class="hash-link" href="#partage-dun-article" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="share-sur-facebook"></a>Share sur Facebook<a class="hash-link" href="#share-sur-facebook" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;a href=&quot;//www.facebook.com/sharer/sharer.php?u={{ url(&#x27;entity.node.canonical&#x27;, {&#x27;node&#x27;: node.id}) }}&quot; target=&quot;_blank&quot;&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="share-sur-twitter"></a>Share sur Twitter<a class="hash-link" href="#share-sur-twitter" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;a href=&quot;//twitter.com/home?status={{ url(&#x27;entity.node.canonical&#x27;, {&#x27;node&#x27;: node.id}) }}&quot; target=&quot;_blank&quot;&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="share-sur-linkedin"></a>Share sur Linkedin<a class="hash-link" href="#share-sur-linkedin" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;a href=&quot;//www.linkedin.com/shareArticle?mini=true&amp;url={{ url(&#x27;entity.node.canonical&#x27;, {&#x27;node&#x27;: node.id}) }}&quot; target=&quot;_blank&quot;&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="share-sur-whatsapp"></a>Share sur Whatsapp<a class="hash-link" href="#share-sur-whatsapp" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;a href=&quot;whatsapp://send?text={{ url(&#x27;entity.node.canonical&#x27;, {&#x27;node&#x27;: node.id}) }}&quot;&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="share-sur-messenger-Ã -tester-uniquement-sur-mobile"></a>Share sur Messenger (Ã  tester uniquement sur mobile)<a class="hash-link" href="#share-sur-messenger-Ã -tester-uniquement-sur-mobile" title="Direct link to heading">#</a></h3><ul><li>Necessite d&#x27;avoir une app_id valide</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;a href=&quot;fb-messenger://share/?link={{ url(&#x27;entity.node.canonical&#x27;, {&#x27;node&#x27;: node.id}) }}&amp;app_id=1959734180995099&quot;&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="traduire-les-textes-dun-thÃ¨me"></a>Traduire les textes d&#x27;un thÃ¨me<a class="hash-link" href="#traduire-les-textes-dun-thÃ¨me" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">title=&quot;{{ &#x27;Go to next page&#x27;|t }}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Lorsque le code a Ã©tÃ© livrÃ© pour pouvoir le saisir en BO, il faut :</p><ul><li><p>Vider le cache</p></li><li><p>Aller sur la page oÃ¹ la traduction est prÃ©sente</p></li><li><p>Vider le cache Ã  nouveau</p></li></ul><p>Pour saisir les traduction, il faut se rendre sur le BO :</p><p>Configuration =&gt; Regional and language =&gt; User interface translation</p><p>Rechercher le texte Ã  traduire (Go to next page dans l&#x27;exemple)  et la langue souhaitÃ©e  et saisir la valeur attendue.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="obtenir-lurl--uri-dun-reference-field-en-twig"></a>Obtenir l&#x27;URL / URI d&#x27;un reference field en twig<a class="hash-link" href="#obtenir-lurl--uri-dun-reference-field-en-twig" title="Direct link to heading">#</a></h2><p>The url is not an entity field, so you can&#x27;t access it directly. Also the entity methods to generate url/links are not accessible in Twig because of the sandbox policies. You can build a path though, if you have the id of the referenced node:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{% if not node.field_ref.isempty %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {{ path(&#x27;entity.node.canonical&#x27;, {&#x27;node&#x27;:  node.field_ref.entity.id}) }}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{% endif %}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="champ-de-type-liste"></a>Champ de type liste<a class="hash-link" href="#champ-de-type-liste" title="Direct link to heading">#</a></h2><p>To get the value of a list element :</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{{ node.field_bottle_format.value }}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>To get the label :</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{% set list_value = node.field_bottle_format.value %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{{ node.field_bottle_format.getSetting(&#x27;allowed_values&#x27;)[list_value] }}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>If the field has multiple values :</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{% set allowed_values = node.filter_list.getSetting(&#x27;allowed_values&#x27;) %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {% set list_values = node.filter_list.getValue() %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {% for list_value in list_values %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;div&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      {{ allowed_values[list_value[&#x27;value&#x27;]] }}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;/div&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{% endfor %}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="champ-de-type-lien"></a>Champ de type lien<a class="hash-link" href="#champ-de-type-lien" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="afficher-le-titre-dun-champ-de-type-lien"></a>Afficher le titre d&#x27;un champ de type lien<a class="hash-link" href="#afficher-le-titre-dun-champ-de-type-lien" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">field_link.title</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ou</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{{ content.field_custom_link.0[&#x27;#title&#x27;] }}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="tester-si-un-champ-de-type-lien-est-externe"></a>Tester si un champ de type lien est externe<a class="hash-link" href="#tester-si-un-champ-de-type-lien-est-externe" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">field_link.0.url.isExternal()</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="mettre-lurl-dun-champ-de-type-lien-link"></a>Mettre l&#x27;url d&#x27;un champ de type lien (link)<a class="hash-link" href="#mettre-lurl-dun-champ-de-type-lien-link" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{{node.field_url_offre.0.url}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ou</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{{ content.field_st_link.0[&#x27;#url&#x27;] }}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="formater-une-date-dans-twig"></a>Formater une date dans Twig<a class="hash-link" href="#formater-une-date-dans-twig" title="Direct link to heading">#</a></h2><p>Pour personnaliser une date</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{{ node.field_date.value | date(&#x27;U&#x27;) | format_date(&quot;custom&quot;, &quot;l d F&quot;) }}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Pour prendre en compte une timezone</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{{ node.field_date.value | date(&#x27;d/m/Y&#x27;, &quot;Europe/Paris&quot;) }}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="connaitre-les-jours-de-diffÃ©rence-entre-2-dates"></a>Connaitre les jours de diffÃ©rence entre 2 dates<a class="hash-link" href="#connaitre-les-jours-de-diffÃ©rence-entre-2-dates" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{% set difference = datePlusGrande - datePlusPetite %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="affichÃ©-la-date-en-franÃ§ais"></a>AffichÃ© la date en FranÃ§ais<a class="hash-link" href="#affichÃ©-la-date-en-franÃ§ais" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{{ node.field_review_date.value  | date(&#x27;U&#x27;) | format_date(&quot;custom&quot;, &quot;d F Y&quot;)}}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>ie: 17 novembre 2021</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="pour-afficher-les-jours-"></a>Pour afficher les jours :<a class="hash-link" href="#pour-afficher-les-jours-" title="Direct link to heading">#</a></h5><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{% set leftDays = (difference / 60 / 60 / 24)|round(0, &#x27;common&#x27;) %}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="pour-afficher-les-heures"></a>Pour afficher les heures:<a class="hash-link" href="#pour-afficher-les-heures" title="Direct link to heading">#</a></h5><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{% set leftDays = (difference / 60 / 60 / 24)|round(3, &#x27;common&#x27;) %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{% set heures = leftDays|split(&#x27;.&#x27;) %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{{(heures.1 * 0.024)|round(0, &#x27;ceil&#x27;) }}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="rÃ©cupÃ©rer-et-formater-la-date-de-crÃ©ation-et-modification-dun-node"></a>RÃ©cupÃ©rer et formater la date de crÃ©ation et modification d&#x27;un node<a class="hash-link" href="#rÃ©cupÃ©rer-et-formater-la-date-de-crÃ©ation-et-modification-dun-node" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{{ node.created.value | date(&#x27;U&#x27;) | format_date(&quot;custom&quot;, &quot;d F Y&quot;) }}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{{ node.changed.value | date(&#x27;U&#x27;) | format_date(&quot;custom&quot;, &quot;d F Y&quot;) }}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="afficher-lurl-dun-node"></a>Afficher l&#x27;url d&#x27;un node<a class="hash-link" href="#afficher-lurl-dun-node" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{{ path(&#x27;entity.node.canonical&#x27;, {&#x27;node&#x27;: node.title.entity.id}) }}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="truncate-un-champ-pour-afficher-un-rÃ©sumÃ©"></a>Truncate un champ pour afficher un rÃ©sumÃ©<a class="hash-link" href="#truncate-un-champ-pour-afficher-un-rÃ©sumÃ©" title="Direct link to heading">#</a></h2><p>Il suffit de choisir l&#x27;option &quot;coupÃ©&quot; dans le format au niveau du format d&#x27;affichage du node.
On utilisera alors <code>{{content.field_name}}</code> pour l&#x27;afficher</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="afficher-lurl-dune-vue"></a>Afficher l&#x27;url d&#x27;une vue<a class="hash-link" href="#afficher-lurl-dune-vue" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{{ path(&#x27;view.nom_machine_de_la_vue.page_1&#x27;) }}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>(page_1 correspond Ã  l&#x27;id de la page de la vue). Utiliser un tel chemain est trÃ¨s important pour les traductions puisque le chemin proposÃ© sera automatiquement dans celui de la langue.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="afficher-un-node-suivant-un-display-mode"></a>Afficher un node suivant un display mode<a class="hash-link" href="#afficher-un-node-suivant-un-display-mode" title="Direct link to heading">#</a></h2><p>A l&#x27;aide de Twig tweak :</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{{ drupal_entity(&#x27;node&#x27;, monNodeId, &#x27;teaser&#x27;) }}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="deux-affichages-diffÃ©rents-pour-un-mÃªme-node"></a>Deux affichages diffÃ©rents pour un mÃªme node<a class="hash-link" href="#deux-affichages-diffÃ©rents-pour-un-mÃªme-node" title="Direct link to heading">#</a></h2><p>Pour pouvoir avoir 2 urls diffÃ©rentes pour un mÃªme node, utiliser le module <a href="https://www.drupal.org/project/view_mode_page" target="_blank" rel="noopener noreferrer">https://www.drupal.org/project/view_mode_page</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ajouter-une-classe-sur-un-field"></a>Ajouter une classe sur un field<a class="hash-link" href="#ajouter-une-classe-sur-un-field" title="Direct link to heading">#</a></h2><ol><li>Pour ajouter une classe &quot;cp-box__btn&quot; sur le lien des field_tags, montheme.theme doit Ãªtre modifiÃ©:</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function montheme_preprocess_field(&amp;$variables, $hook) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $element = $variables[&quot;element&quot;];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $name    = $element[&quot;#field_name&quot;];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  switch($name){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    case &#x27;field_tags&#x27; :</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      foreach ($variables[&#x27;items&#x27;] as $index =&gt; $item) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $variables[&#x27;items&#x27;][$index][&#x27;content&#x27;][&#x27;#options&#x27;][&#x27;attributes&#x27;][&#x27;class&#x27;][] = &#x27;cp-box__btn&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    break;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="retrouver-le-nombre-dÃ©lÃ©ments-dun-field"></a>Retrouver le nombre d&#x27;Ã©lÃ©ments d&#x27;un field<a class="hash-link" href="#retrouver-le-nombre-dÃ©lÃ©ments-dun-field" title="Direct link to heading">#</a></h2><p><code>{{ kint(row.content[&#x27;#flagging&#x27;].getIterator().field_liens) }}</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="import-de-texte-dans-un-ckeditor"></a>Import de texte dans un ckeditor<a class="hash-link" href="#import-de-texte-dans-un-ckeditor" title="Direct link to heading">#</a></h2><p>Drupal 8 propose des filtres pour modifier du contenu de l&#x27;admin vers le front : On met par exemple un tag <code>&lt;fn&gt;</code> dans son texte en admin et cela devient un
<code>&lt;span class=&quot;footnote&quot;&gt;</code> sur le front.</p><p>Pour crÃ©er des filtres, cf. le module customization
Pour exÃ©cuter ces filtres sur un texte avant de le sauvegarder lors d&#x27;un import par exemple :
<code>check_markup($article[&#x27;content&#x27;], &#x27;html_complet&#x27;)</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="lister-les-entitÃ©s-rÃ©fÃ©rencÃ©es"></a>Lister les entitÃ©s rÃ©fÃ©rencÃ©es<a class="hash-link" href="#lister-les-entitÃ©s-rÃ©fÃ©rencÃ©es" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/** @var \Drupal\Core\Field\EntityReferenceFieldItemList $articles */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$articles = $basic_page-&gt;get(&#x27;field_articles&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/** @var \Drupal\node\Entity\Node $article */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">foreach ($articles-&gt;referencedEntities() as $article) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $article_titles[] = $article-&gt;getTitle();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Pour les paragraphes:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/** @var \Drupal\entity_reference_revisions\EntityReferenceRevisionsFieldItemList $votes */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$votes = $basic_page-&gt;get(&#x27;field_votes&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/** @var \Drupal\paragraphs\Entity\Paragraph $vote */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">foreach ($votes-&gt;referencedEntities() as $vote) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $total_votes += $vote-&gt;field_vote-&gt;value;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="crÃ©er-un-node-par-programmation"></a>CrÃ©er un node par programmation<a class="hash-link" href="#crÃ©er-un-node-par-programmation" title="Direct link to heading">#</a></h2><ul><li>aller chercher une image via URL et la sauvegarder</li><li>rechercher un terme dans une taxonomie</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$existingTerms = \Drupal::entityTypeManager()-&gt;getStorage(&#x27;taxonomy_term&#x27;)-&gt;loadTree(&#x27;departement_entite&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$found = null;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">foreach ($existingTerms as $existingTerm) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  if ($existingTerm-&gt;name == &#x27;ISH&#x27;) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $found = $existingTerm-&gt;tid;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    break;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$nodeArray = [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &#x27;type&#x27;                        =&gt; &#x27;article&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &#x27;title&#x27;                       =&gt; &#x27;title&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &#x27;field_link_cyberce&#x27;          =&gt; &#x27;link&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &#x27;field_chapo&#x27;                 =&gt; &#x27;description&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &#x27;status&#x27;                      =&gt; 0,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &#x27;field_departements_entites&#x27;  =&gt; [[&#x27;target_id&#x27; =&gt; $found]],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &#x27;uid&#x27;                         =&gt; 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $file_info = system_retrieve_file($article[&#x27;image&#x27;], &#x27;public://pictures/&#x27;, TRUE, FILE_EXISTS_RENAME);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  if($file_info-&gt;id()){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $styles = ImageStyle::loadMultiple();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $image_uri = $file_info-&gt;getFileUri();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    foreach ($styles as $style) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      $destination = $style-&gt;buildUri($image_uri);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      $style-&gt;createDerivative($image_uri, $destination);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $nodeArray[&#x27;field_image&#x27;] = [&#x27;target_id&#x27; =&gt; $file_info-&gt;id()];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $node = Node::create($nodeArray);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $node-&gt;save();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="upload-de-fichier-de-puis-le-front"></a>upload de fichier de puis le front<a class="hash-link" href="#upload-de-fichier-de-puis-le-front" title="Direct link to heading">#</a></h2><p>Pour permettre l&#x27;upload de fichier depuis le front et associer ces fichiers Ã  un node, voici comment procÃ©der (nous utilisons dropzone et axios dans cet exemple, mais il est possible d&#x27;utiliser une autre librairie ou un input de type file):</p><ol><li>CrÃ©er un champ de type File dans le node souhaitÃ© (on peut autoriser plusieurs valeurs <code>Allowed number of values</code>)</li><li>Activer le module JSON:API et activer <code>Accept all JSON:API create, read, update, and delete operations.</code></li><li>Dans le fichier du theme <code>mytheme.libraries.yml</code> ajouter les dÃ©pendances dropzone :</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">global-styling:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Version: 1.x</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  css:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    theme:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.7.2/dropzone.min.css: {}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  js:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.7.2/min/dropzone.min.js: { type: external, minified: true }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js: { type: external, minified: true }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ol start="4"><li>Dans votre twig node, voici un exemple pour un champ de node de type file appelÃ© ici <code>field_presentation</code>. Noter le premier appel pour rÃ©cupÃ©rer un csrf-token puis les headers et <code>axios.defaults.withCredentials = true</code> (essentiels) pour que Drupal autorise l&#x27;upload.</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;form action=&quot;/jsonapi/node/brand_plan/4a0d2604-3f00-437a-9fb0-06bea9321021/field_presentation&quot; class=&quot;dropzone&quot; id=&quot;MyDropzone&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;div class=&quot;fallback&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &lt;input name=&quot;file&quot; type=&quot;file&quot; multiple/&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;/div&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/form&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;script&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">document.addEventListener(&quot;DOMContentLoaded&quot;, function(event) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    var csrfToken = &#x27;&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    jQuery.get(Drupal.url(&#x27;session/token&#x27;))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        .done(function (token) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            console.log(&#x27;token&#x27;, token);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            csrfToken = token</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        })</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Dropzone.options.MyDropzone = {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        autoProcessQueue : false,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        dictDefaultMessage: &quot;Drop files or click here to upload a new DICOM series ...&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        init : function() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            myDropzone = this;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            //Restore initial message when queue has been completed</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            this.on(&quot;addedfiles&quot;, function(event) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                console.log(myDropzone.files);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                let file = myDropzone.files[0];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                let filename = file.name;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                var reader = new FileReader();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                reader.readAsArrayBuffer(file);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                reader.onabort = () =&gt; console.log(&#x27;file reading was aborted&#x27;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                reader.onerror = () =&gt; console.log(&#x27;file reading has failed&#x27;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                reader.onload = () =&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    const arrayStr = reader.result;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    axios.defaults.withCredentials = true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    axios.post(&#x27;/jsonapi/node/brand_plan/4a0d2604-3f00-437a-9fb0-06bea9321021/field_presentation&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        arrayStr</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        , {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            headers: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                &quot;Content-Type&quot;: &quot;application/octet-stream&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                &quot;Accept&quot;: &quot;application/vnd.api+json&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                &quot;Content-Disposition&quot;: &#x27;file; filename=&quot;&#x27; + filename + &#x27;&quot;&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                &#x27;X-CSRF-Token&#x27;: csrfToken,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    )</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    .then((response) =&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        console.log(response);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    })</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    .catch(function (error) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        console.log(error);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    }.bind(this));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            });</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    };</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">});</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/script&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="rÃ©cupÃ©rer-lid-de-lauteur-dun-node"></a>RÃ©cupÃ©rer l&#x27;ID de l&#x27;auteur d&#x27;un node<a class="hash-link" href="#rÃ©cupÃ©rer-lid-de-lauteur-dun-node" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">node.getOwnerId()</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="appeler-un-node-ou-une-autre-url-en-popin"></a>Appeler un node (ou une autre URL) en popin<a class="hash-link" href="#appeler-un-node-ou-une-autre-url-en-popin" title="Direct link to heading">#</a></h2><p>Drupal8 le gÃ¨re de base. Il faut faire Ã§a :</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;a href=&quot;/node/16/register/registration_type_1&quot; class=&quot;use-ajax&quot; data-dialog-type=&quot;modal&quot;&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>La librairie jqueryUI est utilisÃ©e dans ce cas.</p><p>Et pour resizer automatiquement la modale, utiliser ce script js :</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Drupal.behaviors.provider = {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    attach: function (context, settings) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        jQuery(&quot;#drupal-modal&quot;).dialog({height:&#x27;auto&#x27;, width:&#x27;50%&#x27;});</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="variables-globales-par-environnement"></a>Variables globales par environnement<a class="hash-link" href="#variables-globales-par-environnement" title="Direct link to heading">#</a></h1><ol><li>SÃ©parer les environnement dans settings.php (cf. clef GA dans le projet energyObs) :</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">switch ($_SERVER[&#x27;HTTP_HOST&#x27;]) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  default:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  case &#x27;energyobsyzpt9flua4.devcloud.acquia-sites.com&#x27;:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Dev env</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     $settings[&#x27;gaKey&#x27;] = &#x27;UA-141900936-1&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    break;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  case &#x27;energyobsyrw6e2rkmk.devcloud.acquia-sites.com&#x27;:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Stage env</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $settings[&#x27;gaKey&#x27;] = &#x27;UA-141900936-1&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    break;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  case &#x27;energy-observer.media&#x27;:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Prod env</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $settings[&#x27;gaKey&#x27;] = &#x27;UA-90169649-2&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    break;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ol><li>Dans le fichier .theme :</li></ol><ul><li>ajouter la librairie Settings =&gt; <code>use Drupal\Core\Site\Settings;</code></li><li>rÃ©cupÃ©rer la variable instanciÃ©e dans settings.php =&gt; <code>$gaKey = Settings::get(&#x27;gaKey&#x27;, &#x27;&#x27;);</code></li><li>crÃ©er/modifier une variable afin de rÃ©cupÃ©rer sa valeur en twig =&gt; <code>$vars[&#x27;gaKey&#x27;] = $gaKey;</code></li><li></li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function solutions_preprocess_html(&amp;$vars) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $gaKey = Settings::get(&#x27;gaKey&#x27;, &#x27;&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $vars[&#x27;gaKey&#x27;] = $gaKey;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  if (!empty($_GET[&#x27;video&#x27;])) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $media = Media::load($_GET[&#x27;video&#x27;]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //Kint::dump($media-&gt;get(&#x27;field_title&#x27;)[0]-&gt;getValue()[&#x27;value&#x27;]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if ($media) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $vars[&#x27;get&#x27;][&#x27;video&#x27;][&#x27;id&#x27;] = $_GET[&#x27;video&#x27;];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $vars[&#x27;get&#x27;][&#x27;video&#x27;][&#x27;title&#x27;] = $media-&gt;get(&#x27;field_title&#x27;)[0]-&gt;getValue()[&#x27;value&#x27;];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $vars[&#x27;get&#x27;][&#x27;video&#x27;][&#x27;image&#x27;] = file_create_url($media-&gt;get(&#x27;field_media_image&#x27;)-&gt;entity-&gt;getFileUri());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $vars[&#x27;get&#x27;][&#x27;video&#x27;][&#x27;description&#x27;] = strip_tags($media-&gt;get(&#x27;field_description&#x27;)[0]-&gt;getValue()[&#x27;value&#x27;]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $vars[&#x27;get&#x27;][&#x27;video&#x27;][&#x27;url&#x27;] = file_create_url($media-&gt;get(&#x27;field_media_video_file&#x27;)-&gt;entity-&gt;getFileUri());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ol><li>dans le twig =&gt; <code>{{ gaKey }}</code></li></ol><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="preview-type-de-contenu"></a>Preview type de contenu<a class="hash-link" href="#preview-type-de-contenu" title="Direct link to heading">#</a></h1><ol><li>cocher &quot;facultatif&quot; dans la section &quot;Apercu avant soumission&quot; dans : structure &gt; type de contenu &gt; (exp: &#x27;article&#x27;) &gt; modifier</li></ol><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="acces-spÃ©cifique-Ã -la-modification-dun-node"></a>Acces spÃ©cifique Ã  la modification d&#x27;un node.<a class="hash-link" href="#acces-spÃ©cifique-Ã -la-modification-dun-node" title="Direct link to heading">#</a></h1><p>On va utiliser le module <a href="https://www.drupal.org/project/nodeaccess" target="_blank" rel="noopener noreferrer">nodeaccess</a> dont la config se trouve ici :<code>admin/config/people/nodeaccess</code></p><p>Ce module va nous permettre de donner des droits spÃ©cifiques par type de contenu et/ou par node. Bref sÃ©curiser un node.</p><p>On peut mÃªme aller jusqu&#x27;Ã  donner accÃ¨s Ã  1 user Ã  1 node.</p><ul><li>CrÃ©ation d&#x27;un role. <code>/admin/people/roles/add</code></li></ul><p>Dans la config du module nodeaccess <code>admin/config/people/nodeaccess</code> on va dire Ã  quel type de contenu ce role Ã  AccÃ¨s.</p><ol><li>Allowed Grants - Quel type de droit modifiable dans l&#x27;onglet Grants</li></ol><ul><li>View</li><li>Edit</li><li>Delete</li></ul><ol><li>Allowed Roles - Quel Type de role peuvent Ãªtre customisables</li></ol><ul><li>Authenticated user</li><li>Administrator</li><li>Utilisateur invitÃ©</li><li>Administrateur rÃ©gion</li><li>Maison Krug Market All Admin</li><li>Maison Krug Market De Contributor
...</li></ul><p>Ensuite par type de contenu choisir les roles.
Pensez Ã  cocher dans le type de contenu souhaitÃ© <code>Show grant tab for this node type</code>
Cela permet dans un contenu/node de spÃ©cifier les droits.</p><p>Dans le contenu de votre choix il y a un onglet <code>Grants</code>.
Vous pouvez mÃªme aller jusqu&#x27;Ã  accorder l&#x27;accÃ¨s ou la modification Ã  un seul user sur un contenu !.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="creation-du-role-contributor"></a>Creation du role contributor<a class="hash-link" href="#creation-du-role-contributor" title="Direct link to heading">#</a></h2><ol><li>Ajouter un rÃ´le - ie Maison Moet Marche DE Contributor</li><li>Ajouter permission nÃ©cessaire - dÃ©pend du projet</li></ol><p>Dans le config du module nodeaccess il faut autoriser le nouveau rÃ´le</p><ol><li>Dans <code>admin/config/people/nodeaccess</code> dans <code>Allowed Roles</code> et cocher le nouveau role
Ensuite il pourra Ãªtre affectÃ© Ã  un node.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="autorisation-pour-accÃ©der-au-site"></a>Autorisation pour accÃ©der au site<a class="hash-link" href="#autorisation-pour-accÃ©der-au-site" title="Direct link to heading">#</a></h2><ol><li>CrÃ©er un contenu de type Brand Plan</li><li>l&#x27;apeller <code> Moet DE - My Brand Plan</code></li><li>Dans l&#x27;onglet <code>Grants</code> Cocher :</li></ol><ul><li><code>View</code> et <code>Edit</code> pour Maison Moet Marche DE Contributor</li><li><code>View</code> pour Maison Moet Marche DE Reader</li></ul></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/config/seo"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« seo</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/dynamisation/paragraphs"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">paragraphs Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#partage-dun-article" class="table-of-contents__link">Partage d&#39;un article</a><ul><li><a href="#share-sur-facebook" class="table-of-contents__link">Share sur Facebook</a></li><li><a href="#share-sur-twitter" class="table-of-contents__link">Share sur Twitter</a></li><li><a href="#share-sur-linkedin" class="table-of-contents__link">Share sur Linkedin</a></li><li><a href="#share-sur-whatsapp" class="table-of-contents__link">Share sur Whatsapp</a></li><li><a href="#share-sur-messenger-Ã -tester-uniquement-sur-mobile" class="table-of-contents__link">Share sur Messenger (Ã  tester uniquement sur mobile)</a></li></ul></li><li><a href="#traduire-les-textes-dun-thÃ¨me" class="table-of-contents__link">Traduire les textes d&#39;un thÃ¨me</a></li><li><a href="#obtenir-lurl--uri-dun-reference-field-en-twig" class="table-of-contents__link">Obtenir l&#39;URL / URI d&#39;un reference field en twig</a></li><li><a href="#champ-de-type-liste" class="table-of-contents__link">Champ de type liste</a></li><li><a href="#champ-de-type-lien" class="table-of-contents__link">Champ de type lien</a><ul><li><a href="#afficher-le-titre-dun-champ-de-type-lien" class="table-of-contents__link">Afficher le titre d&#39;un champ de type lien</a></li><li><a href="#tester-si-un-champ-de-type-lien-est-externe" class="table-of-contents__link">Tester si un champ de type lien est externe</a></li><li><a href="#mettre-lurl-dun-champ-de-type-lien-link" class="table-of-contents__link">Mettre l&#39;url d&#39;un champ de type lien (link)</a></li></ul></li><li><a href="#formater-une-date-dans-twig" class="table-of-contents__link">Formater une date dans Twig</a></li><li><a href="#connaitre-les-jours-de-diffÃ©rence-entre-2-dates" class="table-of-contents__link">Connaitre les jours de diffÃ©rence entre 2 dates</a></li><li><a href="#rÃ©cupÃ©rer-et-formater-la-date-de-crÃ©ation-et-modification-dun-node" class="table-of-contents__link">RÃ©cupÃ©rer et formater la date de crÃ©ation et modification d&#39;un node</a></li><li><a href="#afficher-lurl-dun-node" class="table-of-contents__link">Afficher l&#39;url d&#39;un node</a></li><li><a href="#truncate-un-champ-pour-afficher-un-rÃ©sumÃ©" class="table-of-contents__link">Truncate un champ pour afficher un rÃ©sumÃ©</a></li><li><a href="#afficher-lurl-dune-vue" class="table-of-contents__link">Afficher l&#39;url d&#39;une vue</a></li><li><a href="#afficher-un-node-suivant-un-display-mode" class="table-of-contents__link">Afficher un node suivant un display mode</a></li><li><a href="#deux-affichages-diffÃ©rents-pour-un-mÃªme-node" class="table-of-contents__link">Deux affichages diffÃ©rents pour un mÃªme node</a></li><li><a href="#ajouter-une-classe-sur-un-field" class="table-of-contents__link">Ajouter une classe sur un field</a></li><li><a href="#retrouver-le-nombre-dÃ©lÃ©ments-dun-field" class="table-of-contents__link">Retrouver le nombre d&#39;Ã©lÃ©ments d&#39;un field</a></li><li><a href="#import-de-texte-dans-un-ckeditor" class="table-of-contents__link">Import de texte dans un ckeditor</a></li><li><a href="#lister-les-entitÃ©s-rÃ©fÃ©rencÃ©es" class="table-of-contents__link">Lister les entitÃ©s rÃ©fÃ©rencÃ©es</a></li><li><a href="#crÃ©er-un-node-par-programmation" class="table-of-contents__link">CrÃ©er un node par programmation</a></li><li><a href="#upload-de-fichier-de-puis-le-front" class="table-of-contents__link">upload de fichier de puis le front</a></li><li><a href="#rÃ©cupÃ©rer-lid-de-lauteur-dun-node" class="table-of-contents__link">RÃ©cupÃ©rer l&#39;ID de l&#39;auteur d&#39;un node</a></li><li><a href="#appeler-un-node-ou-une-autre-url-en-popin" class="table-of-contents__link">Appeler un node (ou une autre URL) en popin</a></li><li><a href="#creation-du-role-contributor" class="table-of-contents__link">Creation du role contributor</a></li><li><a href="#autorisation-pour-accÃ©der-au-site" class="table-of-contents__link">Autorisation pour accÃ©der au site</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/setup/introduction">Docs</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://abecms.slack.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Website</h4><ul class="footer__items"><li class="footer__item"><a href="https://livingcolor.fr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_31Aa"><img class="footer__logo" alt="Facebook Open Source Logo" src="https://docusaurus.io/img/oss_logo.png"></a></div><div class="footer__copyright">Copyright Â© 2022 Abe SAS. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.dd3b91b9.js"></script>
<script src="/runtime~main.ed3b1bb8.js"></script>
<script src="/main.2d4ecd67.js"></script>
<script src="/1.610b12b6.js"></script>
<script src="/2.2611d948.js"></script>
<script src="/41.ff57316b.js"></script>
<script src="/44.23577ab9.js"></script>
<script src="/935f2afb.70e75e8c.js"></script>
<script src="/17896441.ea08961a.js"></script>
<script src="/8c5cea80.e62ac5ec.js"></script>
</body>
</html>