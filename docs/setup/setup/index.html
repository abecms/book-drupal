<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Drupal Stickers Book Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Drupal Stickers Book Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Drupal Stickers Book" href="/opensearch.xml"><title data-react-helmet="true">setup | Drupal Stickers Book</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="setup | Drupal Stickers Book"><meta data-react-helmet="true" name="description" content="Setup d&#x27;un nouveau projet Drupal"><meta data-react-helmet="true" property="og:description" content="Setup d&#x27;un nouveau projet Drupal"><meta data-react-helmet="true" property="og:url" content="https://drupal.livingcolor.academy/docs/setup/setup"><link data-react-helmet="true" rel="shortcut icon" href="/img/logo-white.png"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://drupal.livingcolor.academy/docs/setup/setup"><link rel="stylesheet" href="/styles.e5366e45.css">
<link rel="preload" href="/styles.dd3b91b9.js" as="script">
<link rel="preload" href="/runtime~main.1d9fcc97.js" as="script">
<link rel="preload" href="/main.901730ae.js" as="script">
<link rel="preload" href="/1.610b12b6.js" as="script">
<link rel="preload" href="/2.2611d948.js" as="script">
<link rel="preload" href="/41.ff57316b.js" as="script">
<link rel="preload" href="/44.23577ab9.js" as="script">
<link rel="preload" href="/935f2afb.70e75e8c.js" as="script">
<link rel="preload" href="/17896441.ea08961a.js" as="script">
<link rel="preload" href="/a35772e5.e88dde05.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="livingcolor" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="livingcolor" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Drupal Stickers Recipes</strong></a><a class="navbar__item navbar__link" href="/docs/setup/introduction">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="livingcolor" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="livingcolor" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Drupal Stickers Recipes</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/setup/introduction">Docs</a></li><li class="menu__list-item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Setup</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/setup/introduction">introduction</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/setup/setup">setup</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Configuration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config/configuration">configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config/multilingue">multilingue</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config/webforms">webforms</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config/blocks">blocks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config/commerce">commerce</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config/nodes">nodes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config/seo">seo</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Dynamisation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dynamisation/nodes">nodes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dynamisation/paragraphs">paragraphs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dynamisation/views">views</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dynamisation/search">search</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dynamisation/forms">forms</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dynamisation/taxonomies">taxonomies</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dynamisation/tokens">tokens</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dynamisation/images">images</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dynamisation/users">users</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dynamisation/comments">comments</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dynamisation/newsletters">newsletters</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dynamisation/menus">menus</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dynamisation/ckeditor">ckeditor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dynamisation/modules">modules</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dynamisation/domains">domains</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev/dev">dev</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev/debug">debug</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev/tests">tests</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">setup</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="setup-dun-nouveau-projet-drupal"></a>Setup d&#x27;un nouveau projet Drupal<a class="hash-link" href="#setup-dun-nouveau-projet-drupal" title="Direct link to heading">#</a></h1><ol><li>Ajout du theme livingcolor (le renommer dans le nom du thÃ¨me souhaitÃ©) (Appearance / install and set as default)</li><li>Dans le static : remove l&#x27;appel de jquery.min.js dans le gulp-config.js dans les vendors.</li><li>Ajouter les modules suivants Ã  l&#x27;aide de composer, en fonction des besoins (et les modules dÃ©pendants):</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="admin"></a>ADMIN<a class="hash-link" href="#admin" title="Direct link to heading">#</a></h3><ul><li>docroot/modules/contrib/admin_toolbar</li><li>docroot/modules/contrib/adminimal_admin_toolbar</li><li>docroot/modules/contrib/entity_browser</li><li>docroot/modules/contrib/entity_embed</li><li>docroot/modules/contrib/inline_entity_form</li><li>docroot/modules/contrib/site_settings</li><li>docroot/modules/contrib/ultimate_cron</li><li>docroot/modules/contrib/redis</li><li>docroot/modules/contrib/varnish_purge</li><li>docroot/modules/contrib/shield</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="config"></a>CONFIG<a class="hash-link" href="#config" title="Direct link to heading">#</a></h3><ul><li>docroot/modules/contrib/config_filter</li><li>docroot/modules/contrib/config_split</li><li>docroot/modules/contrib/config_auto_export</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="node"></a>NODE<a class="hash-link" href="#node" title="Direct link to heading">#</a></h3><ul><li>docroot/modules/contrib/paragraphs</li><li>docroot/modules/contrib/entityqueue</li><li>docroot/modules/contrib/entity_print</li><li>docroot/modules/contrib/maxlength</li><li>composer require &#x27;drupal/time_field&#x27;</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="taxonomy"></a>TAXONOMY<a class="hash-link" href="#taxonomy" title="Direct link to heading">#</a></h3><ul><li>docroot/modules/contrib/hierarchical_term_formatter</li><li>docroot/modules/contrib/taxonomy_menu</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="views"></a>VIEWS<a class="hash-link" href="#views" title="Direct link to heading">#</a></h3><ul><li>docroot/modules/contrib/views_add_button</li><li>docroot/modules/contrib/views_infinite_scroll</li><li>docroot/modules/contrib/viewsreference</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="seo"></a>SEO<a class="hash-link" href="#seo" title="Direct link to heading">#</a></h3><ul><li>docroot/modules/contrib/easy_breadcrumb</li><li>docroot/modules/contrib/pathauto</li><li>docroot/modules/contrib/cookieconsent</li><li>docroot/modules/contrib/datalayer</li><li>docroot/modules/contrib/google_tag</li><li>docroot/modules/contrib/metatag</li><li>docroot/modules/contrib/redirect</li><li>docroot/modules/contrib/xmlsitemap</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ckeditor"></a>CKEDITOR<a class="hash-link" href="#ckeditor" title="Direct link to heading">#</a></h3><ul><li>docroot/modules/contrib/linkit</li><li>docroot/modules/contrib/embed</li><li>docroot/modules/contrib/footnotes</li><li>docroot/modules/contrib/colorbutton</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="dev"></a>DEV<a class="hash-link" href="#dev" title="Direct link to heading">#</a></h3><ul><li>docroot/modules/contrib/devel</li><li>docroot/modules/contrib/twig_tweak</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="search"></a>SEARCH<a class="hash-link" href="#search" title="Direct link to heading">#</a></h3><ul><li>docroot/modules/contrib/elasticsearch_connector</li><li>docroot/modules/contrib/search_api</li><li>docroot/modules/contrib/search_api_autocomplete</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="images"></a>IMAGES<a class="hash-link" href="#images" title="Direct link to heading">#</a></h3><ul><li>docroot/modules/contrib/image_widget_crop</li><li>docroot/modules/contrib/crop</li><li>docroot/modules/contrib/svg_image</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="formulaires"></a>FORMULAIRES<a class="hash-link" href="#formulaires" title="Direct link to heading">#</a></h3><ul><li>docroot/modules/contrib/webform</li><li>docroot/modules/contrib/captcha</li><li>docroot/modules/contrib/recaptcha</li><li>docroot/modules/contrib/simple_popup_blocks</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="users"></a>USERS<a class="hash-link" href="#users" title="Direct link to heading">#</a></h3><ul><li>docroot/modules/contrib/simple_pass_reset</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="mail--newsletter"></a>MAIL &amp; NEWSLETTER<a class="hash-link" href="#mail--newsletter" title="Direct link to heading">#</a></h3><ul><li>docroot/modules/contrib/mailsystem</li><li>docroot/modules/contrib/simplenews</li><li>docroot/modules/contrib/swiftmailer</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="custom-loader"></a>CUSTOM LOADER<a class="hash-link" href="#custom-loader" title="Direct link to heading">#</a></h3><ul><li>docroot/modules/contrib/ajax_loader</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="probleme-composer"></a>PROBLEME COMPOSER<a class="hash-link" href="#probleme-composer" title="Direct link to heading">#</a></h2><p>Si vous rencontrer le message suivant Ã  l&#x27;installation via composer :</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">don&#x27;t install drupal/core 8.6 |remove drupal/drupal dev-develop</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Il faut revenir Ã  la version 1.7.2 de composer.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">curl -sS https://getcomposer.org/download/1.7.2/composer.phar --output composer.phar &amp;&amp; \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">mv composer.phar /usr/local/bin/composer &amp;&amp; \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">chmod u+x /usr/local/bin/composer</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="admin-1"></a>Admin<a class="hash-link" href="#admin-1" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="pour-afficher-la-barre-dÃ©dition-dun-contenu-en-front"></a>Pour afficher la barre d&#x27;Ã©dition d&#x27;un contenu en front<a class="hash-link" href="#pour-afficher-la-barre-dÃ©dition-dun-contenu-en-front" title="Direct link to heading">#</a></h2><ul><li>Aller dans Structure/Mise en page des blocs</li><li>Dans la rÃ©gion Content ajouter le bloc Onglets</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="personnaliser-la-toolbar-admin-en-front"></a>Personnaliser la toolbar admin en front<a class="hash-link" href="#personnaliser-la-toolbar-admin-en-front" title="Direct link to heading">#</a></h2><ol><li>crÃ©er un twig nommÃ© toolbar.html.twig</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="format-de-texte-et-editeur"></a>Format de texte et editeur<a class="hash-link" href="#format-de-texte-et-editeur" title="Direct link to heading">#</a></h2><ul><li>On crÃ©e les formats dans config/redaction de contenu/formats de texte et editeur</li><li>On assigne un format en allant sur structure/type de contenu/ gÃ©rer les champs/ le champ concernÃ© / modifier (onglet modifier) il y a en bas l&#x27;option &quot;format de texte&quot;...</li><li>ATTENTON : Si une erreur s&#x27;affiche &quot;Ce champ a Ã©tÃ© dÃ©sactivÃ© car vous n&#x27;avez pas les droits suffisants pour le modifier.&quot;, veillez Ã  bien assigner le droit selon le rÃ´le concernÃ©. Dans config/redaction de contenu/formats de texte et editeur puis aller dans modifier pour ajouter le rÃ´le.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="worflow-de-validation"></a>Worflow de validation<a class="hash-link" href="#worflow-de-validation" title="Direct link to heading">#</a></h2><ol><li>Activer le module Content Moderation</li><li>Dans Administration / Configuration / Processus crÃ©er un nouveau processus</li><li>Dans ETATS, ajouter les Ã©tats qu&#x27;on souhaite utiliser dans le processus (e.g. A corriger, A publier). Par dÃ©faut il y a 2 Ã©tats Draft et Publish.</li><li>Dans TRANSITIONS, modifier ou ajouter les transitions qui dÃ©finissent les enchainements d&#x27;Ã©tats (e.g. CrÃ©ation de contenus, Contenus Ã  publier)</li><li>Dans LE PROCESSUS S&#x27;APPLIQUE A, sÃ©lectionner les types de contenus qui sont concernÃ©s par le processus</li><li>Pour chaque type de contenu concernÃ©, vÃ©rifier que le champ &quot;Ã‰tat de modÃ©ration&quot; est activÃ© et appliquer le widget &quot;Ã‰tat de modÃ©ration&quot; (vs Texte par dÃ©faut). Une liste dÃ©roulante apparait maintenant en lieu et place du bouton radio Published sur le formulaire de gestion des contenus. Cette liste permet de sÃ©lectionner les diffÃ©rents Ã©tats qui ont Ã©tÃ© dÃ©finis dans le processus.</li><li></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="workflow-de-contribution"></a>Workflow de contribution<a class="hash-link" href="#workflow-de-contribution" title="Direct link to heading">#</a></h2><ol><li>Utilisation des modules Workflow et Content Moderation</li><li>Installer et configurer le module Content Moderation Notifications qui s&#x27;appuie sur le workflow</li><li>CrÃ©er et configurer un processus de workflow :</li></ol><ul><li>Ajouter l&#x27;Ã©tat &quot;review&quot; (A valider)</li><li>DÃ©finir les transitions souhaitÃ©es :<ul><li>CrÃ©er ou modifier un brouillon</li><li>Publier</li><li>Modifier</li><li>DÃ©publier</li><li>A modifier</li><li>A valider</li></ul></li><li>Attention, pour permettre la dÃ©publication d&#x27;un contenu, il convient de :<ul><li>vÃ©rifier que pour tous les Ã©tats la case RÃ©vision par dÃ©faut est bien cochÃ©e (sauf pour Draft)</li><li>crÃ©er un Ã©tat (ex: DÃ©publiÃ©)</li><li>crÃ©er une transition (ex : DÃ©publier un contenu) qui prÃ©voit de passer des Ã©tats de PubliÃ© Ã  DÃ©publiÃ©</li></ul></li><li>Choisir Ã  quels types de contenu s&#x27;applique le processus</li></ul><ol><li>Associer le processus au rÃ´le concernÃ© en activant le droit dans Personne &gt; droits &gt; Content Moderation.</li><li>Pour les rÃ´les concernÃ©s par la modÃ©ration ou contribution :</li></ol><ul><li>activer le droit Voir le thÃ¨me d&#x27;administration</li><li>activer le droit Utiliser la barre d&#x27;outils d&#x27;administration</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="attributions-des-processus-Ã -des-rÃ´les"></a>Attributions des processus Ã  des rÃ´les<a class="hash-link" href="#attributions-des-processus-Ã -des-rÃ´les" title="Direct link to heading">#</a></h2><p>Afin de dÃ©finir les droits d&#x27;action (A publier, A corriger...) selon  les rÃ´les :</p><ol><li>Dans Administration / Personnes / Droits aller dans la rubrique Content Moderation</li><li>Appliquer les droits attendus en fonction des rÃ´les</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="attribution-des-droits-minimums-pour-un-rÃ´le"></a>Attribution des droits &quot;minimums&quot; pour un rÃ´le<a class="hash-link" href="#attribution-des-droits-minimums-pour-un-rÃ´le" title="Direct link to heading">#</a></h2><ol><li>Pour accÃ©der Ã  l&#x27;admin : Activer Voir le thÃ¨me d&#x27;administration</li><li>AccÃ©der Ã  la bare d&#x27;outil : Dans Toolbar / Activer Utiliser la barre d&#x27;outils d&#x27;administration</li><li>AccÃ©der aux menus autres que Contenu (Structure...) : Activer Utiliser les pages d&#x27;administration et l&#x27;aide</li><li>AccÃ©der aux informations d&#x27;un contenu (auteur...) :</li></ol><ul><li>Activer Administrer le contenu</li><li>AccÃ©der Ã  la page de vue d&#x27;ensemble du contenu</li><li>Voir n&#x27;importe quel contenu non publiÃ©</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="configurer-un-autocomplete-spÃ©cifique-pour-un-champ-referenced-field"></a>Configurer un autocomplete spÃ©cifique pour un champ referenced field<a class="hash-link" href="#configurer-un-autocomplete-spÃ©cifique-pour-un-champ-referenced-field" title="Direct link to heading">#</a></h2><ul><li>CrÃ©er une vue de type entity reference</li><li>Ajouter les champs qu&#x27;on souhaite afficher ou utiliser pour la recherche</li><li>dans Format, choisir les champs sur lesquels rechercher</li><li>Dans les champs, sÃ©lectionner les champs souhaitÃ©s, et les passer en &quot;exclure de l&#x27;affichage&quot;, sauf le dernier pour lequel on va rÃ©Ã©crire les rÃ©sultats &quot;Remplacer le rendu de ce champ par un texte personnalisÃ©&quot; en utilisant du twig et les champs qui sont cachÃ©s.</li></ul><p>Ensuite, se rendre sur la configuration du node, dans la configuration du champs referenced entity et choisir dans type de rÃ©fÃ©rence /mÃ©thode de rÃ©fÃ©rence la vue que l&#x27;on vient de crÃ©er.</p><p>ATTENTION, un patch est nÃ©cessaire (version D8 actuelle 8.7.* : &quot;entity reference display on admin autocomplete&quot;: &quot;patches/2174633-351.patch&quot;</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="redirect-unauthorized-users-to-a-specific-page"></a>Redirect unauthorized users to a specific page<a class="hash-link" href="#redirect-unauthorized-users-to-a-specific-page" title="Direct link to heading">#</a></h2><p>In the admin : <code>http://mhisrmm.dev.dd:8083/admin/config/system/site-information</code> Put the URL you want in the error pages section (Default 403 (access denied page))</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="dÃ©velopper"></a>DÃ©velopper<a class="hash-link" href="#dÃ©velopper" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="eviter-les-erreurs-js"></a>Eviter les erreurs js<a class="hash-link" href="#eviter-les-erreurs-js" title="Direct link to heading">#</a></h2><ol><li>Quand vous installez un nouveau thÃ¨me ou si vous oubliez de fermer une balise vous pouvez retrouver ce genre d&#x27;erreurs :</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Uncaught TypeError: Cannot read property &#x27;permissionsHash&#x27; of undefined</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Uncaught TypeError: Cannot set property &#x27;StateModel&#x27; of undefined</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Uncaught TypeError: Cannot set property &#x27;AuralView&#x27; of undefined</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Uncaught TypeError: Cannot set property &#x27;KeyboardView&#x27; of undefined</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Uncaught TypeError: Cannot set property &#x27;RegionView&#x27; of undefined</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Uncaught TypeError: Cannot set property &#x27;VisualView&#x27; of undefined</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Uncaught TypeError: Cannot read property &#x27;uid&#x27; of undefined</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Uncaught TypeError: Cannot read property &#x27;currentPath&#x27; of undefined</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Uncaught TypeError: Cannot read property &#x27;currentPathIsAdmin&#x27; of undefined</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Uncaught TypeError: Cannot read property &#x27;url&#x27; of undefined</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Uncaught TypeError: Cannot read property &#x27;currentQuery&#x27; of undefined</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ol><li>Attention Ã  ne pas laisser une div ouverte dans le body d&#x27;une page html.html.twig OU que <code>&lt;js-bottom-placeholder token=&quot;{{ placeholder_token|raw }}&quot;&gt;</code> soit bien situÃ© Ã  la fin du body hors d&#x27;un <code>&lt;div&gt;</code></li><li>ATTENTION, pour que les placeholders fonctionnent :</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;head-placeholder token=&quot;{{ placeholder_token|raw }}&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;!-- placeholders --&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;css-placeholder token=&quot;{{ placeholder_token|raw }}&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;js-placeholder token=&quot;{{ placeholder_token|raw }}&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;js-bottom-placeholder token=&quot;{{ placeholder_token|raw }}&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;!-- /placeholders --&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Il faut que {{page}} soit prÃ©sent dans la page. Si vous ne voulez pas afficher le contenu de {{page}}, faites :</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{% set rendered_page %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {{ page }}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{% endset %}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="debug"></a>Debug<a class="hash-link" href="#debug" title="Direct link to heading">#</a></h2><ol><li>Activer le module kint puis aller dans modules/contrib/devel/kint/config.default.php et changer <code>$_kintSettings[&#x27;maxLevels&#x27;] = 4;</code> et lui mettre un niveau 4</li><li>Pour acquia : dans settings.php dÃ©commenter :</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (file_exists($app_root . &#x27;/&#x27; . $site_path . &#x27;/settings.local.php&#x27;)) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  include $app_root . &#x27;/&#x27; . $site_path . &#x27;/settings.local.php&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Si vous avez le message d&#x27;erreur :
MySQL import failed.
STDERR:ERROR 1118 (42000) at line 389: The size of BLOB/TEXT data inserted in one transaction is greater than 10% of redo log size. Increase the redo log size using innodb_log_file_size.</p><p>Il faut aller dans <code>/Applications/DevDesktop/mysql</code> et Ã©diter my.cnf en mettant une valeur supÃ©rieure Ã  <code>innodb_log_file_size</code> :</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">innodb_log_file_size=128M</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ol start="3"><li>Mettre la configuration locale :</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;?php</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert_options(ASSERT_ACTIVE, TRUE);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">\Drupal\Component\Assertion\Handle::register();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$settings[&#x27;container_yamls&#x27;][] = DRUPAL_ROOT . &#x27;/sites/development.services.yml&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$config[&#x27;system.logging&#x27;][&#x27;error_level&#x27;] = &#x27;verbose&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$config[&#x27;system.performance&#x27;][&#x27;css&#x27;][&#x27;preprocess&#x27;] = FALSE;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$config[&#x27;system.performance&#x27;][&#x27;js&#x27;][&#x27;preprocess&#x27;] = FALSE;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$settings[&#x27;cache&#x27;][&#x27;bins&#x27;][&#x27;render&#x27;] = &#x27;cache.backend.null&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$settings[&#x27;cache&#x27;][&#x27;bins&#x27;][&#x27;page&#x27;] = &#x27;cache.backend.null&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$settings[&#x27;cache&#x27;][&#x27;bins&#x27;][&#x27;dynamic_page_cache&#x27;] = &#x27;cache.backend.null&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$settings[&#x27;rebuild_access&#x27;] = TRUE;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$settings[&#x27;skip_permissions_hardening&#x27;] = TRUE;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>et dans development.services.yml :</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">parameters:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  http.response.debug_cacheability_headers: true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  twig.config:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    debug: true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    auto_reload: true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cache: false</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">services:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  cache.backend.null:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    class: Drupal\Core\Cache\NullBackendFactory</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Cela vous pemrettra d&#x27;afficher les suggestions dans le code source de vos pages Drupal.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="utiliser-une-librairie-de-cssjs-spÃ©cifique-Ã -une-page"></a>Utiliser une librairie de css/js spÃ©cifique Ã  une page<a class="hash-link" href="#utiliser-une-librairie-de-cssjs-spÃ©cifique-Ã -une-page" title="Direct link to heading">#</a></h2><ol><li>Dans le fichier mymodule.libraires.yml il faut ajouter un styling (exemple =&gt; mypage-styling) en plus du global-styling :</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> global-styling:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  version: 1.x</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  css:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    theme:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      css/pluginCss.css: {}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      css/app.css: {}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      css/nextgen.css: {}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  js:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    js/lib/lib.js: {defer: true, async: true}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    js/app.js: {defer: true, async: true}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  dependencies:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    - core/drupal</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    - core/jquery</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    - core/jquery.once</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">mypage-styling:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  version: 1.x</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  css:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    theme:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      css/components.css: {}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      css/dalet-virtual-show.css: {}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      css/normalize.css: {}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  js:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    js/dalet-virtual-show: {}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  dependencies:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    - core/drupal</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    - core/jquery</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    - core/jquery.once</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ol><li>Dans le fichier mymodule.theme au niveau du hook preprocess de la page, vÃ©rifier le node/type/nom/etc... de la page pour utiliser la librairie(library) souhaitÃ©e :</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function moet_preprocess_html(&amp;$variables) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $variables[&#x27;gtm_tracker&#x27;] = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $language = \Drupal::config(&#x27;language.negotiation&#x27;)-&gt;get(&#x27;url.prefixes&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $variables[&#x27;language&#x27;] = $language[\Drupal::languageManager()-&gt;getCurrentLanguage()-&gt;getId()];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  if ($variables[&#x27;page&#x27;][&#x27;#title&#x27;] == &#x27;food pairing&#x27; || $variables[&#x27;node_type&#x27;] == &#x27;quality&#x27; || $variables[&#x27;node_type&#x27;] == &#x27;philosophy&#x27;) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $variables[&#x27;page&#x27;][&#x27;#attached&#x27;][&#x27;library&#x27;][] = &#x27;moet/food-pairing-styling&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if (($key = array_search(&#x27;moet/global-styling&#x27;, $variables[&#x27;page&#x27;][&#x27;#attached&#x27;][&#x27;library&#x27;])) !== false) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      unset($variables[&#x27;page&#x27;][&#x27;#attached&#x27;][&#x27;library&#x27;][$key]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="bdd"></a>BDD<a class="hash-link" href="#bdd" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="chargement-de-la-base-de-donnÃ©es"></a>chargement de la base de donnÃ©es<a class="hash-link" href="#chargement-de-la-base-de-donnÃ©es" title="Direct link to heading">#</a></h2><p>mysql -u #user# -p moet &lt; #databasefile#.sql</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="supprimer-les-locks-sur-un-cron-ultimate_cron"></a>Supprimer les locks sur un CRON Ultimate_cron<a class="hash-link" href="#supprimer-les-locks-sur-un-cron-ultimate_cron" title="Direct link to heading">#</a></h2><p><code>DELETE FROM ultimate_cron_lock WHERE name = &#x27;import_content_cron&#x27;;</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="mesurer-la-taille-des-tables-de-la-bdd"></a>Mesurer la taille des tables de la BDD<a class="hash-link" href="#mesurer-la-taille-des-tables-de-la-bdd" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">SELECT</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     table_schema as `Database`,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     table_name AS `Table`,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     round(((data_length + index_length) / 1024 / 1024), 2) `Size in MB`</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">FROM information_schema.TABLES</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">WHERE table_schema = &#x27;myDatabase&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ORDER BY table_schema ASC, (data_length + index_length) DESC;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="patches"></a>Patches<a class="hash-link" href="#patches" title="Direct link to heading">#</a></h2><p>Le fonctionnement des patches repose sur composer.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="appliquer-un-patch-via-composer"></a>Appliquer un patch via composer<a class="hash-link" href="#appliquer-un-patch-via-composer" title="Direct link to heading">#</a></h3><ul><li><a href="https://kgaut.net/blog/2016/drupal-8-composer-appliquer-un-patch-dans-le-fichier-composerjson.html" target="_blank" rel="noopener noreferrer">https://kgaut.net/blog/2016/drupal-8-composer-appliquer-un-patch-dans-le-fichier-composerjson.html</a>
En rÃ©sumÃ© : installer <code>composer require cweagans/composer-patches</code> pour gÃ©rer les patches puis (rep patchs au mÃªme niveau que composer.json) :</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;patches&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;drupal/monmodule&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;Patch custom stockÃ© localement&quot;: &quot;patchs/patch-custom-stocke-localement.patch&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Il faut aussi un composer de ce type :</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;name&quot;: &quot;drupal/drupal&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;description&quot;: &quot;Drupal is an open source content management platform powering millions of websites and applications.&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;type&quot;: &quot;project&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;license&quot;: &quot;GPL-2.0-or-later&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;require&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;composer/installers&quot;: &quot;^1.0.24&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;wikimedia/composer-merge-plugin&quot;: &quot;^1.4&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;cweagans/composer-patches&quot;: &quot;^1.6&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal/core&quot;: &quot;^8.6.4&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal/maxlength&quot;: &quot;^1.0&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal/publication_date&quot;: &quot;^2.0&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal/metatag&quot;: &quot;^1.7&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal/entityqueue&quot;: &quot;^1.0&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal/devel&quot;: &quot;^1.2&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal/easy_breadcrumb&quot;: &quot;^1.8&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal/linkit&quot;: &quot;^5.0&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal/paragraphs&quot;: &quot;^1.5&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal/entity_embed&quot;: &quot;^1.0&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal/shield&quot;: &quot;^1.2&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;minimum-stability&quot;: &quot;dev&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;prefer-stable&quot;: true,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;config&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;preferred-install&quot;: &quot;dist&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;autoloader-suffix&quot;: &quot;Drupal8&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;extra&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;_readme&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;By default Drupal loads the autoloader from ./vendor/autoload.php.&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;To change the autoloader you can edit ./autoload.php.&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;This file specifies the packages.drupal.org repository.&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;You can read more about this composer repository at:&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;https://www.drupal.org/node/2718229&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;merge-plugin&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;include&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;core/composer.json&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;recurse&quot;: true,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;replace&quot;: false,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;merge-extra&quot;: false</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;installer-paths&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;core&quot;: [&quot;type:drupal-core&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;modules/contrib/{name}&quot;: [&quot;type:drupal-module&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;profiles/contrib/{name}&quot;: [&quot;type:drupal-profile&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;themes/contrib/{name}&quot;: [&quot;type:drupal-theme&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;drush/contrib/{name}&quot;: [&quot;type:drupal-drush&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;modules/custom/{name}&quot;: [&quot;type:drupal-custom-module&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;themes/custom/{name}&quot;: [&quot;type:drupal-custom-theme&quot;]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;patches&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;drupal/core&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;Patch filtres groupes sur les vues&quot;: &quot;patches/1810148-58.patch&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;autoload&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;psr-4&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;Drupal\Core\Composer\&quot;: &quot;core/lib/Drupal/Core/Composer&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;scripts&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;pre-autoload-dump&quot;: &quot;Drupal\Core\Composer\Composer::preAutoloadDump&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;post-autoload-dump&quot;: &quot;Drupal\Core\Composer\Composer::ensureHtaccess&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;post-package-install&quot;: &quot;Drupal\Core\Composer\Composer::vendorTestCodeCleanup&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;post-package-update&quot;: &quot;Drupal\Core\Composer\Composer::vendorTestCodeCleanup&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal-phpunit-upgrade-check&quot;: &quot;Drupal\Core\Composer\Composer::upgradePHPUnit&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal-phpunit-upgrade&quot;: &quot;@composer update phpunit/phpunit phpspec/prophecy symfony/yaml --with-dependencies --no-progress&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;phpcs&quot;: &quot;phpcs --standard=core/phpcs.xml.dist --runtime-set installed_paths $(COMPOSER_BINARY config vendor-dir)/drupal/coder/coder_sniffer --&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;phpcbf&quot;: &quot;phpcbf --standard=core/phpcs.xml.dist --runtime-set installed_paths $(COMPOSER_BINARY config vendor-dir)/drupal/coder/coder_sniffer --&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;repositories&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;type&quot;: &quot;composer&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;url&quot;: &quot;https://packages.drupal.org/8&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>IL NE FAUT PAS :</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;replace&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal/core&quot;: &quot;^8.6&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>mais mettre la version de Drupal en dependency !</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="crÃ©er-un-patch"></a>CrÃ©er un patch<a class="hash-link" href="#crÃ©er-un-patch" title="Direct link to heading">#</a></h3><p><code>git diff mon-fichier &gt; [description]-[issue-number]-[comment-number].patch </code></p><p>Pour crÃ©er un patch de rÃ©pertoire avec des fichiers crÃ©Ã©s, il faut d&#x27;abord faire git add du rÃ©pertoire puis :
<code>git diff core/modules/statistics --cached --staged &gt; patches/mon-patch.patch</code></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="appliquer-un-patch-en-ligne-de-commande"></a>Appliquer un patch en ligne de commande<a class="hash-link" href="#appliquer-un-patch-en-ligne-de-commande" title="Direct link to heading">#</a></h3><p>Se placer Ã  la racine du projet. --dry-run pour tester sans appliquer le patch, --igonre-whitespace pour ignorer les diffÃ©rences d&#x27;espaces et tab et --fuzz 3 pour permettre une recherche des lignes en dehors de leur numÃ©ro de ligne notÃ© dans le patch (si le code d&#x27;origine a un peu Ã©voluÃ© par exemple depuis le patch
<code>patch -p1 --dry-run --ignore-whitespace --fuzz 3 &lt; patches/statistics-all-entities-2532334-43.patch</code></p><p>Pour l&#x27;exÃ©cuter :
<code>patch -p1 --ignore-whitespace --fuzz 3 &lt; patches/statistics-all-entities-2532334-43.patch</code></p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="git"></a>Git<a class="hash-link" href="#git" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="cheat-sheet"></a>Cheat sheet<a class="hash-link" href="#cheat-sheet" title="Direct link to heading">#</a></h2><p>Si une erreur <code>error: unable to unlink old &#x27;docroot/sites/default/settings.php&#x27;: Permission denied</code> apparait lors de git pull ou checkout, faire :
<code>chmod ug+w sites/default</code></p><p>Puis pour relancer le git pull si des fichiers untracked sont apparus :</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">git add -A        # stage all files so they are now stashable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">git stash         # stash them - the working dir is now clean</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">git pull          # pull</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">git stash drop    # forget the stashed changes. Alternatively: git stash pop</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="drush"></a>Drush<a class="hash-link" href="#drush" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="composer"></a>Composer<a class="hash-link" href="#composer" title="Direct link to heading">#</a></h2><p>Pour exÃ©cuter Drush depuis vendor/bin/drush, il faut configurer le fichier .env Ã  la racine du projet avec les paramÃ¨tres de BDD. Notre starter Drupal contient un .env.example comme modÃ¨le</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="debug-drush"></a>Debug drush<a class="hash-link" href="#debug-drush" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="remove-a-field-storage-from-config-if-you-encounter-an-error"></a>remove a field storage from config if you encounter an error<a class="hash-link" href="#remove-a-field-storage-from-config-if-you-encounter-an-error" title="Direct link to heading">#</a></h3><ol><li>drush sqlq &quot;DELETE FROM cache_config&quot;</li><li>drush sqlq &quot;DELETE FROM config WHERE name = &#x27;field.storage.node.field_body&#x27; OR data LIKE &#x27;%field.storage.node.field_body%&#x27;&quot;</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="remove-a-improperly-removed-module-from-the-database"></a>Remove a improperly removed module from the database<a class="hash-link" href="#remove-a-improperly-removed-module-from-the-database" title="Direct link to heading">#</a></h3><p><code>drush cdel core.extension module.MY_MODULE </code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="on-acquiadev"></a>on AcquiaDev<a class="hash-link" href="#on-acquiadev" title="Direct link to heading">#</a></h2><p>ATTENTION : Si vous avez un message d&#x27;erreur sur deepcopy quand vous exÃ©cuter drush, il faut Ã©diter la commande drush de devdesktop <code>/Applications/DevDesktop/tools/drush</code> en lui mettant comme version de PHP minimale :</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[ -z &quot;$PHP_ID&quot; ] &amp;&amp; PHP_ID=php5_6</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ol><li>pour drush cr :</li></ol><ul><li>dans /var/www/html/monProjet.dev/docroot/</li><li>executer drush cr</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="retrieve-database-from-acquia-cloud"></a>Retrieve database from acquia cloud<a class="hash-link" href="#retrieve-database-from-acquia-cloud" title="Direct link to heading">#</a></h3><ul><li>If you have this message when you try to download database from acquia cloud dev.</li><li><code>The size of BLOB/TEXT data inserted in one transaction is greater than 10% of redo log size. Increase the redo log size using innodb_log_file_size.</code></li><li>Go to Dev cloud website <code>nameoftheprojectdevcloud.acquia-sites.com</code></li><li>Go to <code>admin/config/development/performance</code> and <code>Clear all caches</code></li><li>try again to <code>pull from cloud dev</code> database</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="cheat-sheet-drush"></a>Cheat sheet Drush<a class="hash-link" href="#cheat-sheet-drush" title="Direct link to heading">#</a></h2><ol><li>cache rebuild : drush cr (--all)</li><li>update db : drush updb (-y)</li><li>Remove module : drush pm-uninstall</li><li>Delete a specific node : drush entity:delete node <code>&lt;nid&gt;</code></li><li>Recontruire les autorisations : <code>drush php-eval &#x27;node_access_rebuild();&#x27;</code></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="flush-image-style"></a>Flush image style<a class="hash-link" href="#flush-image-style" title="Direct link to heading">#</a></h3><ol><li>If you want to flush all images of a specific image style : run <code>vendor/bin/drush image-flush name_of_the_imagestyle</code>
ie :  <code>vendor/bin/drush image-flush landscape_1366x</code></li><li>if you want to flush all images from all image styles : run <code>vendor/bin/drush image-flush --all</code></li></ol><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="acquia-cloud"></a>Acquia cloud<a class="hash-link" href="#acquia-cloud" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="mise-Ã -jour-drupal-core-via-acquia-cloud"></a>Mise Ã  jour Drupal core via acquia cloud<a class="hash-link" href="#mise-Ã -jour-drupal-core-via-acquia-cloud" title="Direct link to heading">#</a></h2><ul><li>ouvrir une console dans acquia dev desktop : drush up</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="vider-le-cache-sur-devstageprod"></a>Vider le cache sur dev/stage/prod<a class="hash-link" href="#vider-le-cache-sur-devstageprod" title="Direct link to heading">#</a></h2><ul><li>ouvrir une console dans acquia dev desktop</li><li>/var/www/html/projet.dev/docroot : drush cr</li><li>ie projet tvconso /var/www/html/tvconso.dev/docroot : drush cr</li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="bdd-erreurs-de-module-en-local-"></a>BDD erreurs de module en local :<a class="hash-link" href="#bdd-erreurs-de-module-en-local-" title="Direct link to heading">#</a></h1><ol><li>Rendre drush utilisable (cf. debug drush)</li><li>DÃ©sinstaller le module problÃ©matique (cf. drush cheat sheet)</li><li>Rebuild le cache (cf. drush cheat sheet)</li></ol><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="heberger-du-contenu-html-statique-sur-drupal"></a>Heberger du contenu html statique sur drupal<a class="hash-link" href="#heberger-du-contenu-html-statique-sur-drupal" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="source-de-liframe-example"></a>source de l&#x27;iframe (example)<a class="hash-link" href="#source-de-liframe-example" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-html codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">style</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">text/css</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token style language-css selector" style="color:rgb(199, 146, 234)">main</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token style language-css"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token style language-css"></span><span class="token style language-css property">width</span><span class="token style language-css punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:rgb(247, 140, 108)">100</span><span class="token style language-css unit">%</span><span class="token style language-css punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token style language-css"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token style language-css"></span><span class="token style language-css punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token style language-css"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token style language-css"></span><span class="token style language-css selector class" style="color:rgb(199, 146, 234)">.field-name-body</span><span class="token style language-css selector class" style="color:rgb(199, 146, 234)">.field-type-text-with-summary</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token style language-css"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token style language-css"></span><span class="token style language-css property">margin</span><span class="token style language-css punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:rgb(247, 140, 108)">0</span><span class="token style language-css punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token style language-css"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token style language-css"></span><span class="token style language-css property">padding</span><span class="token style language-css punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:rgb(247, 140, 108)">0</span><span class="token style language-css punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token style language-css"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token style language-css"></span><span class="token style language-css property">width</span><span class="token style language-css punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:rgb(247, 140, 108)">100</span><span class="token style language-css unit">%</span><span class="token style language-css punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token style language-css"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token style language-css"></span><span class="token style language-css punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token style language-css"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token style language-css"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">style</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">iframe</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">height</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">1600</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">ifrm</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">src</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">http://dev.krug.com:8800/rockpepperscissors/</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">width</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">100%</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">iframe</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="allow-style-tag-in-ckeditor"></a>Allow style tag in ckeditor<a class="hash-link" href="#allow-style-tag-in-ckeditor" title="Direct link to heading">#</a></h2><ul><li><code>admin/config/content/ckeditor/edit/Full</code></li><li><code>Advanced content filter</code> to <code>disabled</code> and <code>save</code></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="static"></a>Static<a class="hash-link" href="#static" title="Direct link to heading">#</a></h2><p>The static should be put in files directory of the drupal.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="config-nginx"></a>Config nginx<a class="hash-link" href="#config-nginx" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-nginx codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    location ~ /whatyouwantasurl/?(.*)$ {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        alias /absolute/path/to/files/staticsitedirectory/$1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        index index.html;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="dÃ©sactiver-dblog"></a>DÃ©sactiver dblog<a class="hash-link" href="#dÃ©sactiver-dblog" title="Direct link to heading">#</a></h1><p><code>drush pm-disable dblog</code></p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="aller-voir-les-logs-sur-le-cloud-acquia"></a>Aller voir les logs sur le cloud Acquia<a class="hash-link" href="#aller-voir-les-logs-sur-le-cloud-acquia" title="Direct link to heading">#</a></h1><ol><li>PossÃ©der un compte Acquia cloud</li><li>Se logguer Ã  Acquia Cloud : <code>https://accounts.acquia.com/sign-in?site=cloud&amp;path=a</code></li><li>Choisir l&#x27;application en cliquant sur le nom</li><li>Les derniers dÃ©ploiements sont listÃ©s dans le tableau <code>Task Log</code></li><li>Pour accÃ©der aux logs cliquer sur la flÃªche Ã  droite</li></ol></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/setup/introduction"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« introduction</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/config/configuration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">configuration Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#admin" class="table-of-contents__link">ADMIN</a></li><li><a href="#config" class="table-of-contents__link">CONFIG</a></li><li><a href="#node" class="table-of-contents__link">NODE</a></li><li><a href="#taxonomy" class="table-of-contents__link">TAXONOMY</a></li><li><a href="#views" class="table-of-contents__link">VIEWS</a></li><li><a href="#seo" class="table-of-contents__link">SEO</a></li><li><a href="#ckeditor" class="table-of-contents__link">CKEDITOR</a></li><li><a href="#dev" class="table-of-contents__link">DEV</a></li><li><a href="#search" class="table-of-contents__link">SEARCH</a></li><li><a href="#images" class="table-of-contents__link">IMAGES</a></li><li><a href="#formulaires" class="table-of-contents__link">FORMULAIRES</a></li><li><a href="#users" class="table-of-contents__link">USERS</a></li><li><a href="#mail--newsletter" class="table-of-contents__link">MAIL &amp; NEWSLETTER</a></li><li><a href="#custom-loader" class="table-of-contents__link">CUSTOM LOADER</a></li><li><a href="#probleme-composer" class="table-of-contents__link">PROBLEME COMPOSER</a></li><li><a href="#pour-afficher-la-barre-dÃ©dition-dun-contenu-en-front" class="table-of-contents__link">Pour afficher la barre d&#39;Ã©dition d&#39;un contenu en front</a></li><li><a href="#personnaliser-la-toolbar-admin-en-front" class="table-of-contents__link">Personnaliser la toolbar admin en front</a></li><li><a href="#format-de-texte-et-editeur" class="table-of-contents__link">Format de texte et editeur</a></li><li><a href="#worflow-de-validation" class="table-of-contents__link">Worflow de validation</a></li><li><a href="#workflow-de-contribution" class="table-of-contents__link">Workflow de contribution</a></li><li><a href="#attributions-des-processus-Ã -des-rÃ´les" class="table-of-contents__link">Attributions des processus Ã  des rÃ´les</a></li><li><a href="#attribution-des-droits-minimums-pour-un-rÃ´le" class="table-of-contents__link">Attribution des droits &quot;minimums&quot; pour un rÃ´le</a></li><li><a href="#configurer-un-autocomplete-spÃ©cifique-pour-un-champ-referenced-field" class="table-of-contents__link">Configurer un autocomplete spÃ©cifique pour un champ referenced field</a></li><li><a href="#redirect-unauthorized-users-to-a-specific-page" class="table-of-contents__link">Redirect unauthorized users to a specific page</a></li><li><a href="#eviter-les-erreurs-js" class="table-of-contents__link">Eviter les erreurs js</a></li><li><a href="#debug" class="table-of-contents__link">Debug</a></li><li><a href="#utiliser-une-librairie-de-cssjs-spÃ©cifique-Ã -une-page" class="table-of-contents__link">Utiliser une librairie de css/js spÃ©cifique Ã  une page</a></li><li><a href="#chargement-de-la-base-de-donnÃ©es" class="table-of-contents__link">chargement de la base de donnÃ©es</a></li><li><a href="#supprimer-les-locks-sur-un-cron-ultimate_cron" class="table-of-contents__link">Supprimer les locks sur un CRON Ultimate_cron</a></li><li><a href="#mesurer-la-taille-des-tables-de-la-bdd" class="table-of-contents__link">Mesurer la taille des tables de la BDD</a></li><li><a href="#patches" class="table-of-contents__link">Patches</a><ul><li><a href="#appliquer-un-patch-via-composer" class="table-of-contents__link">Appliquer un patch via composer</a></li><li><a href="#crÃ©er-un-patch" class="table-of-contents__link">CrÃ©er un patch</a></li><li><a href="#appliquer-un-patch-en-ligne-de-commande" class="table-of-contents__link">Appliquer un patch en ligne de commande</a></li></ul></li><li><a href="#cheat-sheet" class="table-of-contents__link">Cheat sheet</a></li><li><a href="#composer" class="table-of-contents__link">Composer</a></li><li><a href="#debug-drush" class="table-of-contents__link">Debug drush</a><ul><li><a href="#remove-a-field-storage-from-config-if-you-encounter-an-error" class="table-of-contents__link">remove a field storage from config if you encounter an error</a></li><li><a href="#remove-a-improperly-removed-module-from-the-database" class="table-of-contents__link">Remove a improperly removed module from the database</a></li></ul></li><li><a href="#on-acquiadev" class="table-of-contents__link">on AcquiaDev</a><ul><li><a href="#retrieve-database-from-acquia-cloud" class="table-of-contents__link">Retrieve database from acquia cloud</a></li></ul></li><li><a href="#cheat-sheet-drush" class="table-of-contents__link">Cheat sheet Drush</a><ul><li><a href="#flush-image-style" class="table-of-contents__link">Flush image style</a></li></ul></li><li><a href="#mise-Ã -jour-drupal-core-via-acquia-cloud" class="table-of-contents__link">Mise Ã  jour Drupal core via acquia cloud</a></li><li><a href="#vider-le-cache-sur-devstageprod" class="table-of-contents__link">Vider le cache sur dev/stage/prod</a></li><li><a href="#source-de-liframe-example" class="table-of-contents__link">source de l&#39;iframe (example)</a></li><li><a href="#allow-style-tag-in-ckeditor" class="table-of-contents__link">Allow style tag in ckeditor</a></li><li><a href="#static" class="table-of-contents__link">Static</a></li><li><a href="#config-nginx" class="table-of-contents__link">Config nginx</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/setup/introduction">Docs</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://abecms.slack.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Website</h4><ul class="footer__items"><li class="footer__item"><a href="https://livingcolor.fr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_31Aa"><img class="footer__logo" alt="Facebook Open Source Logo" src="https://docusaurus.io/img/oss_logo.png"></a></div><div class="footer__copyright">Copyright Â© 2021 Abe SAS. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.dd3b91b9.js"></script>
<script src="/runtime~main.1d9fcc97.js"></script>
<script src="/main.901730ae.js"></script>
<script src="/1.610b12b6.js"></script>
<script src="/2.2611d948.js"></script>
<script src="/41.ff57316b.js"></script>
<script src="/44.23577ab9.js"></script>
<script src="/935f2afb.70e75e8c.js"></script>
<script src="/17896441.ea08961a.js"></script>
<script src="/a35772e5.e88dde05.js"></script>
</body>
</html>