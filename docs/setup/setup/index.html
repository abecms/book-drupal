<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">


<title data-react-helmet="true">setup | Drupal Stickers Book</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="setup | Drupal Stickers Book"><meta data-react-helmet="true" name="description" content="# Setup d&#x27;un nouveau projet Drupal"><meta data-react-helmet="true" property="og:description" content="# Setup d&#x27;un nouveau projet Drupal"><meta data-react-helmet="true" property="og:url" content="https://drupal.livingcolor.academy/docs/setup/setup">

<link data-react-helmet="true" rel="shortcut icon" href="/img/logo-white.png">


<link rel="stylesheet" href="/styles.3b60f707.css">


<link rel="preload" href="/styles.2c614eb7.js" as="script">

<link rel="preload" href="/runtime~main.84a3ef2e.js" as="script">

<link rel="preload" href="/main.bae6580d.js" as="script">

<link rel="preload" href="/1.add223de.js" as="script">

<link rel="preload" href="/2.a785adde.js" as="script">

<link rel="preload" href="/38.51af2228.js" as="script">

<link rel="preload" href="/20ac7829.e17cb876.js" as="script">

<link rel="preload" href="/17896441.3a92ccfa.js" as="script">

<link rel="preload" href="/a35772e5.292df470.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo.png" alt="livingcolor"><strong class="navbar__title">Drupal Stickers Recipes</strong></a><a class="navbar__item navbar__link" href="/docs/setup/introduction">Docs</a></div><div class="navbar__items navbar__items--right"><a target="_blank" rel="noopener noreferrer" href="https://github.com/facebook/docusaurus" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo.png" alt="livingcolor"><strong class="navbar__title">Drupal Stickers Recipes</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/setup/introduction">Docs</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/facebook/docusaurus" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Setup</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/setup/introduction">introduction</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/setup/setup">setup</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Configuration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/config/configuration">configuration</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/config/multilingue">multilingue</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/config/webforms">webforms</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/config/config-blocks">config-blocks</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/config/config-nodes">config-nodes</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/config/seo">seo</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Dynamisation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/dynamisation/nodes">nodes</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/dynamisation/paragraphs">paragraphs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/dynamisation/views">views</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/dynamisation/search">search</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/dynamisation/forms">forms</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/dynamisation/taxonomies">taxonomies</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/dynamisation/tokens">tokens</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/dynamisation/images">images</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/dynamisation/users">users</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/dynamisation/comments">comments</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/dynamisation/newsletters">newsletters</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/dynamisation/menus">menus</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/dynamisation/ckeditor">ckeditor</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/dynamisation/modules">modules</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/dynamisation/domains">domains</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/dev/dev">dev</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/dev/debug">debug</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/dev/tests">tests</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">setup</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="setup-dun-nouveau-projet-drupal"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#setup-dun-nouveau-projet-drupal" title="Direct link to heading">#</a>Setup d&#x27;un nouveau projet Drupal</h1><ol><li>Ajout du theme livingcolor (le renommer dans le nom du thème souhaité) (Appearance / install and set as default)</li><li>Dans le static : remove l&#x27;appel de jquery.min.js dans le gulp-config.js dans les vendors.</li><li>Ajouter les modules suivants à l&#x27;aide de composer, en fonction des besoins (et les modules dépendants):</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="admin"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#admin" title="Direct link to heading">#</a>ADMIN</h3><ul><li>docroot/modules/contrib/admin_toolbar</li><li>docroot/modules/contrib/adminimal_admin_toolbar</li><li>docroot/modules/contrib/entity_browser</li><li>docroot/modules/contrib/entity_embed</li><li>docroot/modules/contrib/inline_entity_form</li><li>docroot/modules/contrib/site_settings</li><li>docroot/modules/contrib/ultimate_cron</li><li>docroot/modules/contrib/redis</li><li>docroot/modules/contrib/varnish_purge</li><li>docroot/modules/contrib/shield</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="config"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#config" title="Direct link to heading">#</a>CONFIG</h3><ul><li>docroot/modules/contrib/config_filter</li><li>docroot/modules/contrib/config_split</li><li>docroot/modules/contrib/config_auto_export</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="node"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#node" title="Direct link to heading">#</a>NODE</h3><ul><li>docroot/modules/contrib/paragraphs</li><li>docroot/modules/contrib/entityqueue</li><li>docroot/modules/contrib/entity_print</li><li>docroot/modules/contrib/maxlength</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="taxonomy"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#taxonomy" title="Direct link to heading">#</a>TAXONOMY</h3><ul><li>docroot/modules/contrib/hierarchical_term_formatter</li><li>docroot/modules/contrib/taxonomy_menu</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="views"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#views" title="Direct link to heading">#</a>VIEWS</h3><ul><li>docroot/modules/contrib/views_add_button</li><li>docroot/modules/contrib/views_infinite_scroll</li><li>docroot/modules/contrib/viewsreference</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="seo"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#seo" title="Direct link to heading">#</a>SEO</h3><ul><li>docroot/modules/contrib/easy_breadcrumb</li><li>docroot/modules/contrib/pathauto</li><li>docroot/modules/contrib/cookieconsent</li><li>docroot/modules/contrib/datalayer</li><li>docroot/modules/contrib/google_tag</li><li>docroot/modules/contrib/metatag</li><li>docroot/modules/contrib/redirect</li><li>docroot/modules/contrib/xmlsitemap</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="ckeditor"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#ckeditor" title="Direct link to heading">#</a>CKEDITOR</h3><ul><li>docroot/modules/contrib/linkit</li><li>docroot/modules/contrib/embed</li><li>docroot/modules/contrib/footnotes</li><li>docroot/modules/contrib/colorbutton</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="dev"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#dev" title="Direct link to heading">#</a>DEV</h3><ul><li>docroot/modules/contrib/devel</li><li>docroot/modules/contrib/twig_tweak</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="search"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#search" title="Direct link to heading">#</a>SEARCH</h3><ul><li>docroot/modules/contrib/elasticsearch_connector</li><li>docroot/modules/contrib/search_api</li><li>docroot/modules/contrib/search_api_autocomplete</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="images"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#images" title="Direct link to heading">#</a>IMAGES</h3><ul><li>docroot/modules/contrib/image_widget_crop</li><li>docroot/modules/contrib/crop</li><li>docroot/modules/contrib/svg_image</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="formulaires"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#formulaires" title="Direct link to heading">#</a>FORMULAIRES</h3><ul><li>docroot/modules/contrib/webform</li><li>docroot/modules/contrib/captcha</li><li>docroot/modules/contrib/recaptcha</li><li>docroot/modules/contrib/simple_popup_blocks</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="users"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#users" title="Direct link to heading">#</a>USERS</h3><ul><li>docroot/modules/contrib/simple_pass_reset</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="mail--newsletter"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#mail--newsletter" title="Direct link to heading">#</a>MAIL &amp; NEWSLETTER</h3><ul><li>docroot/modules/contrib/mailsystem</li><li>docroot/modules/contrib/simplenews</li><li>docroot/modules/contrib/swiftmailer</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="custom-loader"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#custom-loader" title="Direct link to heading">#</a>CUSTOM LOADER</h3><ul><li>docroot/modules/contrib/ajax_loader</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="probleme-composer"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#probleme-composer" title="Direct link to heading">#</a>PROBLEME COMPOSER</h2><p>Si vous rencontrer le message suivant à l&#x27;installation via composer :</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">don&#x27;t install drupal/core 8.6 |remove drupal/drupal dev-develop</span></div></div></div></div></div><p>Il faut revenir à la version 1.7.2 de composer.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">curl -sS https://getcomposer.org/download/1.7.2/composer.phar --output composer.phar &amp;&amp; \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">mv composer.phar /usr/local/bin/composer &amp;&amp; \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">chmod u+x /usr/local/bin/composer</span></div></div></div></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="admin-1"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#admin-1" title="Direct link to heading">#</a>Admin</h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="pour-afficher-la-barre-dédition-dun-contenu-en-front"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#pour-afficher-la-barre-dédition-dun-contenu-en-front" title="Direct link to heading">#</a>Pour afficher la barre d&#x27;édition d&#x27;un contenu en front</h2><ul><li>Aller dans Structure/Mise en page des blocs</li><li>Dans la région Content ajouter le bloc Onglets</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="personnaliser-la-toolbar-admin-en-front"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#personnaliser-la-toolbar-admin-en-front" title="Direct link to heading">#</a>Personnaliser la toolbar admin en front</h2><ol><li>créer un twig nommé toolbar.html.twig</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="format-de-texte-et-editeur"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#format-de-texte-et-editeur" title="Direct link to heading">#</a>Format de texte et editeur</h2><ul><li>On crée les formats dans config/redaction de contenu/formats de texte et editeur</li><li>On assigne un format en allant sur structure/type de contenu/ gérer les champs/ le champ concerné / modifier (onglet modifier) il y a en bas l&#x27;option &quot;format de texte&quot;...</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="worflow-de-validation"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#worflow-de-validation" title="Direct link to heading">#</a>Worflow de validation</h2><ol><li>Activer le module Content Moderation</li><li>Dans Administration / Configuration / Processus créer un nouveau processus</li><li>Dans ETATS, ajouter les états qu&#x27;on souhaite utiliser dans le processus (e.g. A corriger, A publier). Par défaut il y a 2 états Draft et Publish.</li><li>Dans TRANSITIONS, modifier ou ajouter les transitions qui définissent les enchainements d&#x27;états (e.g. Création de contenus, Contenus à publier)</li><li>Dans LE PROCESSUS S&#x27;APPLIQUE A, sélectionner les types de contenus qui sont concernés par le processus</li><li>Le processus est maintenant configuré, une liste déroulante apparait maintenant en lieu et place du bouton radio Published sur le formulaire de gestion des contenus. Cette liste permet de sélectionner les différents états qui ont été définis dans le processus.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="workflow-de-contribution"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#workflow-de-contribution" title="Direct link to heading">#</a>Workflow de contribution</h2><ol><li>Utilisation des modules Workflow et Content Moderation</li><li>Installer et configurer le module Content Moderation Notifications qui s&#x27;appuie sur le workflow</li><li>Créer et configurer un processus de workflow :</li></ol><ul><li>Ajouter l&#x27;état &quot;review&quot; (A valider)</li><li>Définir les transitions souhaitées :<ul><li>Créer ou modifier un brouillon</li><li>Publier</li><li>Modifier</li><li>Dépublier</li><li>A modifier</li><li>A valider</li></ul></li><li>Attention, pour permettre la dépublication d&#x27;un contenu, il convient de :<ul><li>vérifier que pour tous les états la case Révision par défaut est bien cochée (sauf pour Draft)</li><li>créer un état (ex: Dépublié)</li><li>créer une transition (ex : Dépublier un contenu) qui prévoit de passer des états de Publié à Dépublié</li></ul></li><li>Choisir à quels types de contenu s&#x27;applique le processus</li></ul><ol><li>Associer le processus au rôle concerné en activant le droit dans Personne &gt; droits &gt; Content Moderation.</li><li>Pour les rôles concernés par la modération ou contribution :</li></ol><ul><li>activer le droit Voir le thème d&#x27;administration</li><li>activer le droit Utiliser la barre d&#x27;outils d&#x27;administration</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="attributions-des-processus-à-des-rôles"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#attributions-des-processus-à-des-rôles" title="Direct link to heading">#</a>Attributions des processus à des rôles</h2><p>Afin de définir les droits d&#x27;action (A publier, A corriger...) selon  les rôles :
1. Dans Administration / Personnes / Droits aller dans la rubrique Content Moderation
1. Appliquer les droits attendus en fonction des rôles</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="attribution-des-droits-minimums-pour-un-rôle"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#attribution-des-droits-minimums-pour-un-rôle" title="Direct link to heading">#</a>Attribution des droits &quot;minimums&quot; pour un rôle</h2><ol><li>Accéder à l&#x27;admin</li></ol><ul><li>Voir le thème d&#x27;administration</li></ul><ol><li>Accéder à la bare d&#x27;outil</li></ol><ul><li>Toolbar / Utiliser la barre d&#x27;outils d&#x27;administration</li></ul><ol><li>Accéder aux menus autres que Contenu (Structure...)</li></ol><ul><li>Utiliser les pages d&#x27;administration et l&#x27;aide</li></ul><ol><li>Accéder aux informations d&#x27;un contenu (auteur...)</li></ol><ul><li>Administrer le contenu</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="configurer-un-autocomplete-spécifique-pour-un-champ-referenced-field"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#configurer-un-autocomplete-spécifique-pour-un-champ-referenced-field" title="Direct link to heading">#</a>Configurer un autocomplete spécifique pour un champ referenced field</h2><ul><li>Créer une vue de type entity reference</li><li>Ajouter les champs qu&#x27;on souhaite afficher ou utiliser pour la recherche</li><li>dans Format, choisir les champs sur lesquels rechercher</li><li>Dans les champs, sélectionner les champs souhaités, et les passer en &quot;exclure de l&#x27;affichage&quot;, sauf le dernier pour lequel on va réécrire les résultats &quot;Remplacer le rendu de ce champ par un texte personnalisé&quot; en utilisant du twig et les champs qui sont cachés.</li></ul><p>Ensuite, se rendre sur la configuration du node, dans la configuration du champs referenced entity et choisir dans type de référence /méthode de référence la vue que l&#x27;on vient de créer.</p><p>ATTENTION, un patch est nécessaire (version D8 actuelle 8.7.* : &quot;entity reference display on admin autocomplete&quot;: &quot;patches/2174633-351.patch&quot;</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="redirect-unauthorized-users-to-a-specific-page"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#redirect-unauthorized-users-to-a-specific-page" title="Direct link to heading">#</a>Redirect unauthorized users to a specific page</h2><p>In the admin : <code>http://mhisrmm.dev.dd:8083/admin/config/system/site-information</code> Put the URL you want in the error pages section (Default 403 (access denied page))</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="développer"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#développer" title="Direct link to heading">#</a>Développer</h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="eviter-les-erreurs-js"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#eviter-les-erreurs-js" title="Direct link to heading">#</a>Eviter les erreurs js</h2><ol><li>Quand vous installez un nouveau thème ou si vous oubliez de fermer une balise vous pouvez retrouver ce genre d&#x27;erreurs :</li></ol><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Uncaught TypeError: Cannot read property &#x27;permissionsHash&#x27; of undefined</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Uncaught TypeError: Cannot set property &#x27;StateModel&#x27; of undefined</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Uncaught TypeError: Cannot set property &#x27;AuralView&#x27; of undefined</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Uncaught TypeError: Cannot set property &#x27;KeyboardView&#x27; of undefined</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Uncaught TypeError: Cannot set property &#x27;RegionView&#x27; of undefined</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Uncaught TypeError: Cannot set property &#x27;VisualView&#x27; of undefined</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Uncaught TypeError: Cannot read property &#x27;uid&#x27; of undefined</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Uncaught TypeError: Cannot read property &#x27;currentPath&#x27; of undefined</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Uncaught TypeError: Cannot read property &#x27;currentPathIsAdmin&#x27; of undefined</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Uncaught TypeError: Cannot read property &#x27;url&#x27; of undefined</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Uncaught TypeError: Cannot read property &#x27;currentQuery&#x27; of undefined</span></div></div></div></div></div><ol><li>Attention à ne pas laisser une div ouverte dans le body d&#x27;une page html.html.twig OU que <code>&lt;js-bottom-placeholder token=&quot;{{ placeholder_token|raw }}&quot;&gt;</code> soit bien situé à la fin du body hors d&#x27;un <code>&lt;div&gt;</code></li><li>ATTENTION, pour que les placeholders fonctionnent :</li></ol><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;head-placeholder token=&quot;{{ placeholder_token|raw }}&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;!-- placeholders --&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;css-placeholder token=&quot;{{ placeholder_token|raw }}&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;js-placeholder token=&quot;{{ placeholder_token|raw }}&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;js-bottom-placeholder token=&quot;{{ placeholder_token|raw }}&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;!-- /placeholders --&gt;</span></div></div></div></div></div><p>Il faut que {{page}} soit présent dans la page. Si vous ne voulez pas afficher le contenu de {{page}}, faites :</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{% set rendered_page %}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {{ page }}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{% endset %}</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="debug"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#debug" title="Direct link to heading">#</a>Debug</h2><ol><li>Activer le module kint puis aller dans modules/contrib/devel/kint/config.default.php et changer <code>$_kintSettings[&#x27;maxLevels&#x27;] = 4;</code> et lui mettre un niveau 4</li><li>Pour acquia : dans settings.php décommenter :</li></ol><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (file_exists($app_root . &#x27;/&#x27; . $site_path . &#x27;/settings.local.php&#x27;)) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  include $app_root . &#x27;/&#x27; . $site_path . &#x27;/settings.local.php&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div></div></div><p>Si vous avez le message d&#x27;erreur :
MySQL import failed.
STDERR:ERROR 1118 (42000) at line 389: The size of BLOB/TEXT data inserted in one transaction is greater than 10% of redo log size. Increase the redo log size using innodb_log_file_size.</p><p>Il faut aller dans <code>/Applications/DevDesktop/mysql</code> et éditer my.cnf en mettant une valeur supérieure à <code>innodb_log_file_size</code> :</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">innodb_log_file_size=128M</span></div></div></div></div></div><ol start="3"><li>Mettre la configuration locale :</li></ol><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;?php</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert_options(ASSERT_ACTIVE, TRUE);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">\Drupal\Component\Assertion\Handle::register();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$settings[&#x27;container_yamls&#x27;][] = DRUPAL_ROOT . &#x27;/sites/development.services.yml&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$config[&#x27;system.logging&#x27;][&#x27;error_level&#x27;] = &#x27;verbose&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$config[&#x27;system.performance&#x27;][&#x27;css&#x27;][&#x27;preprocess&#x27;] = FALSE;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$config[&#x27;system.performance&#x27;][&#x27;js&#x27;][&#x27;preprocess&#x27;] = FALSE;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$settings[&#x27;cache&#x27;][&#x27;bins&#x27;][&#x27;render&#x27;] = &#x27;cache.backend.null&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$settings[&#x27;cache&#x27;][&#x27;bins&#x27;][&#x27;page&#x27;] = &#x27;cache.backend.null&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$settings[&#x27;cache&#x27;][&#x27;bins&#x27;][&#x27;dynamic_page_cache&#x27;] = &#x27;cache.backend.null&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$settings[&#x27;rebuild_access&#x27;] = TRUE;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$settings[&#x27;skip_permissions_hardening&#x27;] = TRUE;</span></div></div></div></div></div><p>et dans development.services.yml :</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">parameters:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  http.response.debug_cacheability_headers: true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  twig.config:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    debug: true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    auto_reload: true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cache: false</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">services:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  cache.backend.null:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    class: Drupal\Core\Cache\NullBackendFactory</span></div></div></div></div></div><p>Cela vous pemrettra d&#x27;afficher les suggestions dans le code source de vos pages Drupal.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="utiliser-une-librairie-de-cssjs-spécifique-à-une-page"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#utiliser-une-librairie-de-cssjs-spécifique-à-une-page" title="Direct link to heading">#</a>Utiliser une librairie de css/js spécifique à une page</h2><ol><li>Dans le fichier mymodule.libraires.yml il faut ajouter un styling (exemple =&gt; mypage-styling) en plus du global-styling :</li></ol><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> global-styling:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  version: 1.x</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  css:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    theme:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      css/pluginCss.css: {}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      css/app.css: {}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      css/nextgen.css: {}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  js:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    js/lib/lib.js: {defer: true, async: true}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    js/app.js: {defer: true, async: true}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  dependencies:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    - core/drupal</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    - core/jquery</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    - core/jquery.once</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">mypage-styling:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  version: 1.x</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  css:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    theme:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      css/components.css: {}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      css/dalet-virtual-show.css: {}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      css/normalize.css: {}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  js:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    js/dalet-virtual-show: {}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  dependencies:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    - core/drupal</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    - core/jquery</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    - core/jquery.once</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div><ol><li>Dans le fichier mymodule.theme au niveau du hook preprocess de la page, vérifier le node/type/nom/etc... de la page pour utiliser la librairie(library) souhaitée :</li></ol><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function mymodule_preprocess_html(array &amp;$variables) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $path_args = explode(&#x27;/&#x27;, Url::fromRoute(&#x27;&lt;current&gt;&#x27;)-&gt;getInternalPath());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  if($node = Node::load($path_args[1]) &amp;&amp; $node-&gt;getType() == &#x27;mypage&#x27;) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $variables[&#x27;#attached&#x27;][&#x27;library&#x27;][] = &#x27;dalet/mypage-styling&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="bdd"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#bdd" title="Direct link to heading">#</a>BDD</h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="chargement-de-la-base-de-données"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#chargement-de-la-base-de-données" title="Direct link to heading">#</a>chargement de la base de données</h2><p>mysql -u #user# -p moet &lt; #databasefile#.sql</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="supprimer-les-locks-sur-un-cron-ultimate_cron"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#supprimer-les-locks-sur-un-cron-ultimate_cron" title="Direct link to heading">#</a>Supprimer les locks sur un CRON Ultimate_cron</h2><p><code>DELETE FROM ultimate_cron_lock WHERE name = &#x27;import_content_cron&#x27;;</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="mesurer-la-taille-des-tables-de-la-bdd"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#mesurer-la-taille-des-tables-de-la-bdd" title="Direct link to heading">#</a>Mesurer la taille des tables de la BDD</h2><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">SELECT</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     table_schema as `Database`,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     table_name AS `Table`,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     round(((data_length + index_length) / 1024 / 1024), 2) `Size in MB`</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">FROM information_schema.TABLES</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">WHERE table_schema = &#x27;myDatabase&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ORDER BY table_schema ASC, (data_length + index_length) DESC;</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="patches"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#patches" title="Direct link to heading">#</a>Patches</h2><p>Le fonctionnement des patches repose sur composer.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="appliquer-un-patch-via-composer"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#appliquer-un-patch-via-composer" title="Direct link to heading">#</a>Appliquer un patch via composer</h3><ul><li><a href="https://kgaut.net/blog/2016/drupal-8-composer-appliquer-un-patch-dans-le-fichier-composerjson.html">https://kgaut.net/blog/2016/drupal-8-composer-appliquer-un-patch-dans-le-fichier-composerjson.html</a>
En résumé : installer <code>composer require cweagans/composer-patches</code> pour gérer les patches puis (rep patchs au même niveau que composer.json) :</li></ul><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;patches&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;drupal/monmodule&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;Patch custom stocké localement&quot;: &quot;patchs/patch-custom-stocke-localement.patch&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div></div></div><p>Il faut aussi un composer de ce type :</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;name&quot;: &quot;drupal/drupal&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;description&quot;: &quot;Drupal is an open source content management platform powering millions of websites and applications.&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;type&quot;: &quot;project&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;license&quot;: &quot;GPL-2.0-or-later&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;require&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;composer/installers&quot;: &quot;^1.0.24&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;wikimedia/composer-merge-plugin&quot;: &quot;^1.4&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;cweagans/composer-patches&quot;: &quot;^1.6&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal/core&quot;: &quot;^8.6.4&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal/maxlength&quot;: &quot;^1.0&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal/publication_date&quot;: &quot;^2.0&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal/metatag&quot;: &quot;^1.7&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal/entityqueue&quot;: &quot;^1.0&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal/devel&quot;: &quot;^1.2&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal/easy_breadcrumb&quot;: &quot;^1.8&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal/linkit&quot;: &quot;^5.0&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal/paragraphs&quot;: &quot;^1.5&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal/entity_embed&quot;: &quot;^1.0&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal/shield&quot;: &quot;^1.2&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;minimum-stability&quot;: &quot;dev&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;prefer-stable&quot;: true,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;config&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;preferred-install&quot;: &quot;dist&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;autoloader-suffix&quot;: &quot;Drupal8&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;extra&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;_readme&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;By default Drupal loads the autoloader from ./vendor/autoload.php.&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;To change the autoloader you can edit ./autoload.php.&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;This file specifies the packages.drupal.org repository.&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;You can read more about this composer repository at:&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;https://www.drupal.org/node/2718229&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;merge-plugin&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;include&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;core/composer.json&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;recurse&quot;: true,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;replace&quot;: false,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;merge-extra&quot;: false</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;installer-paths&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;core&quot;: [&quot;type:drupal-core&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;modules/contrib/{name}&quot;: [&quot;type:drupal-module&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;profiles/contrib/{name}&quot;: [&quot;type:drupal-profile&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;themes/contrib/{name}&quot;: [&quot;type:drupal-theme&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;drush/contrib/{name}&quot;: [&quot;type:drupal-drush&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;modules/custom/{name}&quot;: [&quot;type:drupal-custom-module&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;themes/custom/{name}&quot;: [&quot;type:drupal-custom-theme&quot;]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;patches&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;drupal/core&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;Patch filtres groupes sur les vues&quot;: &quot;patches/1810148-58.patch&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;autoload&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;psr-4&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;Drupal\Core\Composer\&quot;: &quot;core/lib/Drupal/Core/Composer&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;scripts&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;pre-autoload-dump&quot;: &quot;Drupal\Core\Composer\Composer::preAutoloadDump&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;post-autoload-dump&quot;: &quot;Drupal\Core\Composer\Composer::ensureHtaccess&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;post-package-install&quot;: &quot;Drupal\Core\Composer\Composer::vendorTestCodeCleanup&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;post-package-update&quot;: &quot;Drupal\Core\Composer\Composer::vendorTestCodeCleanup&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal-phpunit-upgrade-check&quot;: &quot;Drupal\Core\Composer\Composer::upgradePHPUnit&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal-phpunit-upgrade&quot;: &quot;@composer update phpunit/phpunit phpspec/prophecy symfony/yaml --with-dependencies --no-progress&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;phpcs&quot;: &quot;phpcs --standard=core/phpcs.xml.dist --runtime-set installed_paths $(COMPOSER_BINARY config vendor-dir)/drupal/coder/coder_sniffer --&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;phpcbf&quot;: &quot;phpcbf --standard=core/phpcs.xml.dist --runtime-set installed_paths $(COMPOSER_BINARY config vendor-dir)/drupal/coder/coder_sniffer --&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;repositories&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;type&quot;: &quot;composer&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;url&quot;: &quot;https://packages.drupal.org/8&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div><p>IL NE FAUT PAS :</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;replace&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;drupal/core&quot;: &quot;^8.6&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div></div></div></div></div><p>mais mettre la version de Drupal en dependency !</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="créer-un-patch"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#créer-un-patch" title="Direct link to heading">#</a>Créer un patch</h3><p><code>git diff mon-fichier &gt; [description]-[issue-number]-[comment-number].patch </code></p><p>Pour créer un patch de répertoire avec des fichiers créés, il faut d&#x27;abord faire git add du répertoire puis :
<code>git diff core/modules/statistics --cached --staged &gt; patches/mon-patch.patch</code></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="appliquer-un-patch-en-ligne-de-commande"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#appliquer-un-patch-en-ligne-de-commande" title="Direct link to heading">#</a>Appliquer un patch en ligne de commande</h3><p>Se placer à la racine du projet. --dry-run pour tester sans appliquer le patch, --igonre-whitespace pour ignorer les différences d&#x27;espaces et tab et --fuzz 3 pour permettre une recherche des lignes en dehors de leur numéro de ligne noté dans le patch (si le code d&#x27;origine a un peu évolué par exemple depuis le patch
<code>patch -p1 --dry-run --ignore-whitespace --fuzz 3 &lt; patches/statistics-all-entities-2532334-43.patch</code></p><p>Pour l&#x27;exécuter :
<code>patch -p1 --ignore-whitespace --fuzz 3 &lt; patches/statistics-all-entities-2532334-43.patch</code></p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="git"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#git" title="Direct link to heading">#</a>Git</h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="cheat-sheet"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#cheat-sheet" title="Direct link to heading">#</a>Cheat sheet</h2><p>Si une erreur <code>error: unable to unlink old &#x27;docroot/sites/default/settings.php&#x27;: Permission denied</code> apparait lors de git pull ou checkout, faire :
<code>chmod ug+w sites/default</code></p><p>Puis pour relancer le git pull si des fichiers untracked sont apparus :</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">git add -A        # stage all files so they are now stashable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">git stash         # stash them - the working dir is now clean</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">git pull          # pull</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">git stash drop    # forget the stashed changes. Alternatively: git stash pop</span></div></div></div></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="drush"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#drush" title="Direct link to heading">#</a>Drush</h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="composer"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#composer" title="Direct link to heading">#</a>Composer</h2><p>Pour exécuter Drush depuis vendor/bin/drush, il faut configurer le fichier .env à la racine du projet avec les paramètres de BDD. Notre starter Drupal contient un .env.example comme modèle</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="debug-drush"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#debug-drush" title="Direct link to heading">#</a>Debug drush</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="remove-a-field-storage-from-config-if-you-encounter-an-error"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#remove-a-field-storage-from-config-if-you-encounter-an-error" title="Direct link to heading">#</a>remove a field storage from config if you encounter an error</h3><ol><li>drush sqlq &quot;DELETE FROM cache_config&quot;</li><li>drush sqlq &quot;DELETE FROM config WHERE name = &#x27;field.storage.node.field_body&#x27; OR data LIKE &#x27;%field.storage.node.field_body%&#x27;&quot;</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="remove-a-improperly-removed-module-from-the-database"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#remove-a-improperly-removed-module-from-the-database" title="Direct link to heading">#</a>Remove a improperly removed module from the database</h3><p><code>drush cdel core.extension module.MY_MODULE </code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="on-acquiadev"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#on-acquiadev" title="Direct link to heading">#</a>on AcquiaDev</h2><p>ATTENTION : Si vous avez un message d&#x27;erreur sur deepcopy quand vous exécuter drush, il faut éditer la commande drush de devdesktop <code>/Applications/DevDesktop/tools/drush</code> en lui mettant comme version de PHP minimale :</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[ -z &quot;$PHP_ID&quot; ] &amp;&amp; PHP_ID=php5_6</span></div></div></div></div></div><ol><li>pour drush cr :</li></ol><ul><li>dans /var/www/html/monProjet.dev/docroot/</li><li>executer drush cr</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="retrieve-database-from-acquia-cloud"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#retrieve-database-from-acquia-cloud" title="Direct link to heading">#</a>Retrieve database from acquia cloud</h3><ul><li>If you have this message when you try to download database from acquia cloud dev.</li><li><code>The size of BLOB/TEXT data inserted in one transaction is greater than 10% of redo log size. Increase the redo log size using innodb_log_file_size.</code></li><li>Go to Dev cloud website <code>nameoftheprojectdevcloud.acquia-sites.com</code></li><li>Go to <code>admin/config/development/performance</code> and <code>Clear all caches</code></li><li>try again to <code>pull from cloud dev</code> database</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="cheat-sheet-drush"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#cheat-sheet-drush" title="Direct link to heading">#</a>Cheat sheet Drush</h2><ol><li>cache rebuild : drush cr (--all)</li><li>update db : drush updb (-y)</li><li>Remove module : drush pm-uninstall</li><li>Delete a specific node : drush entity:delete node <code>&lt;nid&gt;</code></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="flush-image-style"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#flush-image-style" title="Direct link to heading">#</a>Flush image style</h3><ol><li>If you want to flush all images of a specific image style : run <code>vendor/bin/drush image-flush name_of_the_imagestyle</code>
ie :  <code>vendor/bin/drush image-flush landscape_1366x</code></li><li>if you want to flush all images from all image styles : run <code>vendor/bin/drush image-flush --all</code></li></ol><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="acquia-cloud"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#acquia-cloud" title="Direct link to heading">#</a>Acquia cloud</h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="mise-à-jour-drupal-core-via-acquia-cloud"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#mise-à-jour-drupal-core-via-acquia-cloud" title="Direct link to heading">#</a>Mise à jour Drupal core via acquia cloud</h2><ul><li>ouvrir une console dans acquia dev desktop : drush up</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="vider-le-cache-sur-devstageprod"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#vider-le-cache-sur-devstageprod" title="Direct link to heading">#</a>Vider le cache sur dev/stage/prod</h2><ul><li>ouvrir une console dans acquia dev desktop</li><li>/var/www/html/projet.dev/docroot : drush cr</li><li>ie projet tvconso /var/www/html/tvconso.dev/docroot : drush cr</li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="bdd-erreurs-de-module-en-local-"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#bdd-erreurs-de-module-en-local-" title="Direct link to heading">#</a>BDD erreurs de module en local :</h1><ol><li>Rendre drush utilisable (cf. debug drush)</li><li>Désinstaller le module problématique (cf. drush cheat sheet)</li><li>Rebuild le cache (cf. drush cheat sheet)</li></ol><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="heberger-du-contenu-html-statique-sur-drupal"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#heberger-du-contenu-html-statique-sur-drupal" title="Direct link to heading">#</a>Heberger du contenu html statique sur drupal</h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="source-de-liframe-example"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#source-de-liframe-example" title="Direct link to heading">#</a>source de l&#x27;iframe (example)</h2><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-html codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">style</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">type</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">text/css</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token style language-css selector" style="color:rgb(199, 146, 234)">main</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token style language-css"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token style language-css"></span><span class="token style language-css property">width</span><span class="token style language-css punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:rgb(247, 140, 108)">100</span><span class="token style language-css unit">%</span><span class="token style language-css punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token style language-css"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token style language-css"></span><span class="token style language-css punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token style language-css"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token style language-css"></span><span class="token style language-css selector class" style="color:rgb(199, 146, 234)">.field-name-body.field-type-text-with-summary</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token style language-css"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token style language-css"></span><span class="token style language-css property">margin</span><span class="token style language-css punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:rgb(247, 140, 108)">0</span><span class="token style language-css punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token style language-css"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token style language-css"></span><span class="token style language-css property">padding</span><span class="token style language-css punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:rgb(247, 140, 108)">0</span><span class="token style language-css punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token style language-css"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token style language-css"></span><span class="token style language-css property">width</span><span class="token style language-css punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:rgb(247, 140, 108)">100</span><span class="token style language-css unit">%</span><span class="token style language-css punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token style language-css"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token style language-css"></span><span class="token style language-css punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token style language-css"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token style language-css"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">style</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">iframe</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">height</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">1600</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">id</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">ifrm</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">src</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">http://dev.krug.com:8800/rockpepperscissors/</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">width</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">100%</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">iframe</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="allow-style-tag-in-ckeditor"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#allow-style-tag-in-ckeditor" title="Direct link to heading">#</a>Allow style tag in ckeditor</h2><ul><li><code>admin/config/content/ckeditor/edit/Full</code></li><li><code>Advanced content filter</code> to <code>disabled</code> and <code>save</code></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="static"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#static" title="Direct link to heading">#</a>Static</h2><p>The static should be put in files directory of the drupal.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="config-nginx"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#config-nginx" title="Direct link to heading">#</a>Config nginx</h2><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-nginx codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    location ~ /whatyouwantasurl/?(.*)$ {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        alias /absolute/path/to/files/staticsitedirectory/$1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        index index.html;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div></div></div></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="désactiver-dblog"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#désactiver-dblog" title="Direct link to heading">#</a>Désactiver dblog</h1><p><code>drush pm-disable dblog</code></p></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/setup/introduction"><div class="pagination-nav__link--sublabel">Previous</div><div class="pagination-nav__link--label">« introduction</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/config/configuration"><div class="pagination-nav__link--sublabel">Next</div><div class="pagination-nav__link--label">configuration »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#admin" class="contents__link">ADMIN</a></li><li><a href="#config" class="contents__link">CONFIG</a></li><li><a href="#node" class="contents__link">NODE</a></li><li><a href="#taxonomy" class="contents__link">TAXONOMY</a></li><li><a href="#views" class="contents__link">VIEWS</a></li><li><a href="#seo" class="contents__link">SEO</a></li><li><a href="#ckeditor" class="contents__link">CKEDITOR</a></li><li><a href="#dev" class="contents__link">DEV</a></li><li><a href="#search" class="contents__link">SEARCH</a></li><li><a href="#images" class="contents__link">IMAGES</a></li><li><a href="#formulaires" class="contents__link">FORMULAIRES</a></li><li><a href="#users" class="contents__link">USERS</a></li><li><a href="#mail--newsletter" class="contents__link">MAIL &amp; NEWSLETTER</a></li><li><a href="#custom-loader" class="contents__link">CUSTOM LOADER</a></li><li><a href="#probleme-composer" class="contents__link">PROBLEME COMPOSER</a></li><li><a href="#pour-afficher-la-barre-dédition-dun-contenu-en-front" class="contents__link">Pour afficher la barre d&#39;édition d&#39;un contenu en front</a></li><li><a href="#personnaliser-la-toolbar-admin-en-front" class="contents__link">Personnaliser la toolbar admin en front</a></li><li><a href="#format-de-texte-et-editeur" class="contents__link">Format de texte et editeur</a></li><li><a href="#worflow-de-validation" class="contents__link">Worflow de validation</a></li><li><a href="#workflow-de-contribution" class="contents__link">Workflow de contribution</a></li><li><a href="#attributions-des-processus-à-des-rôles" class="contents__link">Attributions des processus à des rôles</a></li><li><a href="#attribution-des-droits-minimums-pour-un-rôle" class="contents__link">Attribution des droits &quot;minimums&quot; pour un rôle</a></li><li><a href="#configurer-un-autocomplete-spécifique-pour-un-champ-referenced-field" class="contents__link">Configurer un autocomplete spécifique pour un champ referenced field</a></li><li><a href="#redirect-unauthorized-users-to-a-specific-page" class="contents__link">Redirect unauthorized users to a specific page</a></li><li><a href="#eviter-les-erreurs-js" class="contents__link">Eviter les erreurs js</a></li><li><a href="#debug" class="contents__link">Debug</a></li><li><a href="#utiliser-une-librairie-de-cssjs-spécifique-à-une-page" class="contents__link">Utiliser une librairie de css/js spécifique à une page</a></li><li><a href="#chargement-de-la-base-de-données" class="contents__link">chargement de la base de données</a></li><li><a href="#supprimer-les-locks-sur-un-cron-ultimate_cron" class="contents__link">Supprimer les locks sur un CRON Ultimate_cron</a></li><li><a href="#mesurer-la-taille-des-tables-de-la-bdd" class="contents__link">Mesurer la taille des tables de la BDD</a></li><li><a href="#patches" class="contents__link">Patches</a><ul><li><a href="#appliquer-un-patch-via-composer" class="contents__link">Appliquer un patch via composer</a></li><li><a href="#créer-un-patch" class="contents__link">Créer un patch</a></li><li><a href="#appliquer-un-patch-en-ligne-de-commande" class="contents__link">Appliquer un patch en ligne de commande</a></li></ul></li><li><a href="#cheat-sheet" class="contents__link">Cheat sheet</a></li><li><a href="#composer" class="contents__link">Composer</a></li><li><a href="#debug-drush" class="contents__link">Debug drush</a><ul><li><a href="#remove-a-field-storage-from-config-if-you-encounter-an-error" class="contents__link">remove a field storage from config if you encounter an error</a></li><li><a href="#remove-a-improperly-removed-module-from-the-database" class="contents__link">Remove a improperly removed module from the database</a></li></ul></li><li><a href="#on-acquiadev" class="contents__link">on AcquiaDev</a><ul><li><a href="#retrieve-database-from-acquia-cloud" class="contents__link">Retrieve database from acquia cloud</a></li></ul></li><li><a href="#cheat-sheet-drush" class="contents__link">Cheat sheet Drush</a><ul><li><a href="#flush-image-style" class="contents__link">Flush image style</a></li></ul></li><li><a href="#mise-à-jour-drupal-core-via-acquia-cloud" class="contents__link">Mise à jour Drupal core via acquia cloud</a></li><li><a href="#vider-le-cache-sur-devstageprod" class="contents__link">Vider le cache sur dev/stage/prod</a></li><li><a href="#source-de-liframe-example" class="contents__link">source de l&#39;iframe (example)</a></li><li><a href="#allow-style-tag-in-ckeditor" class="contents__link">Allow style tag in ckeditor</a></li><li><a href="#static" class="contents__link">Static</a></li><li><a href="#config-nginx" class="contents__link">Config nginx</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/setup/introduction">Docs</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://abecms.slack.com">Slack</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Website</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://livingcolor.fr">Website</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_1Wg7"><img class="footer__logo" alt="Facebook Open Source Logo" src="https://docusaurus.io/img/oss_logo.png"></a></div><div>Copyright © 2020 Abe SAS. Built with Docusaurus.</div></div></div></footer>
</div>

<script src="/styles.2c614eb7.js"></script>

<script src="/runtime~main.84a3ef2e.js"></script>

<script src="/main.bae6580d.js"></script>

<script src="/1.add223de.js"></script>

<script src="/2.a785adde.js"></script>

<script src="/38.51af2228.js"></script>

<script src="/20ac7829.e17cb876.js"></script>

<script src="/17896441.3a92ccfa.js"></script>

<script src="/a35772e5.292df470.js"></script>


</body>
</html>