(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{140:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"rightToc",(function(){return o})),n.d(t,"metadata",(function(){return u})),n.d(t,"default",(function(){return d}));var r=n(1),i=n(9),a=(n(0),n(160)),l={},o=[{value:"Pour afficher la barre d'\xe9dition d'un contenu en front",id:"pour-afficher-la-barre-d\xe9dition-dun-contenu-en-front",children:[]},{value:"Personnaliser la toolbar admin en front",id:"personnaliser-la-toolbar-admin-en-front",children:[]},{value:"Format de texte et editeur",id:"format-de-texte-et-editeur",children:[]},{value:"Worflow de validation",id:"worflow-de-validation",children:[]},{value:"Workflow de contribution",id:"workflow-de-contribution",children:[]},{value:"Attributions des processus \xe0 des r\xf4les",id:"attributions-des-processus-\xe0-des-r\xf4les",children:[]},{value:'Attribution des droits "minimums" pour un r\xf4le',id:"attribution-des-droits-minimums-pour-un-r\xf4le",children:[]},{value:"Configurer un autocomplete sp\xe9cifique pour un champ referenced field",id:"configurer-un-autocomplete-sp\xe9cifique-pour-un-champ-referenced-field",children:[]}],u={id:"admin",title:"admin",description:"# Admin",source:"@site/docs/admin.md",permalink:"/docs/admin"},s={rightToc:o,metadata:u},c="wrapper";function d(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(a.b)(c,Object(r.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("h1",{id:"admin"},"Admin"),Object(a.b)("h2",{id:"pour-afficher-la-barre-d\xe9dition-dun-contenu-en-front"},"Pour afficher la barre d'\xe9dition d'un contenu en front"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Aller dans Structure/Mise en page des blocs"),Object(a.b)("li",{parentName:"ul"},"Dans la r\xe9gion Content ajouter le bloc Onglets")),Object(a.b)("h2",{id:"personnaliser-la-toolbar-admin-en-front"},"Personnaliser la toolbar admin en front"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"cr\xe9er un twig nomm\xe9 toolbar.html.twig")),Object(a.b)("h2",{id:"format-de-texte-et-editeur"},"Format de texte et editeur"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"On cr\xe9e les formats dans cnfig/redaction de contenu/formats de texte et editeur"),Object(a.b)("li",{parentName:"ul"},'On assigne un format en allant sur structure/type de contenu/ g\xe9rer les champs/ le champ concern\xe9 / modifier (onglet modifier) il y a en bas l\'option "format de texte"...')),Object(a.b)("h2",{id:"worflow-de-validation"},"Worflow de validation"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"Activer le module Content Moderation"),Object(a.b)("li",{parentName:"ol"},"Dans Administration / Configuration / Processus cr\xe9er un nouveau processus"),Object(a.b)("li",{parentName:"ol"},"Dans ETATS, ajouter les \xe9tats qu'on souhaite utiliser dans le processus (e.g. A corriger, A publier). Par d\xe9faut il y a 2 \xe9tats Draft et Publish."),Object(a.b)("li",{parentName:"ol"},"Dans TRANSITIONS, modifier ou ajouter les transitions qui d\xe9finissent les enchainements d'\xe9tats (e.g. Cr\xe9ation de contenus, Contenus \xe0 publier)"),Object(a.b)("li",{parentName:"ol"},"Dans LE PROCESSUS S'APPLIQUE A, s\xe9lectionner les types de contenus qui sont concern\xe9s par le processus"),Object(a.b)("li",{parentName:"ol"},"Le processus est maintenant configur\xe9, une liste d\xe9roulante apparait maintenant en lieu et place du bouton radio Published sur le formulaire de gestion des contenus. Cette liste permet de s\xe9lectionner les diff\xe9rents \xe9tats qui ont \xe9t\xe9 d\xe9finis dans le processus.")),Object(a.b)("h2",{id:"workflow-de-contribution"},"Workflow de contribution"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"Utilisation des modules Workflow et Content Moderation"),Object(a.b)("li",{parentName:"ol"},"Installer et configurer le module Content Moderation Notifications qui s'appuie sur le workflow"),Object(a.b)("li",{parentName:"ol"},"Cr\xe9er et configurer un processus de workflow :")),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},'Ajouter l\'\xe9tat "review" (A valider)'),Object(a.b)("li",{parentName:"ul"},"D\xe9finir les transitions souhait\xe9es :",Object(a.b)("ul",{parentName:"li"},Object(a.b)("li",{parentName:"ul"},"Cr\xe9er ou modifier un brouillon"),Object(a.b)("li",{parentName:"ul"},"Publier"),Object(a.b)("li",{parentName:"ul"},"Modifier"),Object(a.b)("li",{parentName:"ul"},"D\xe9publier"),Object(a.b)("li",{parentName:"ul"},"A modifier"),Object(a.b)("li",{parentName:"ul"},"A valider"))),Object(a.b)("li",{parentName:"ul"},"Attention, pour permettre la d\xe9publication d'un contenu, il convient de :",Object(a.b)("ul",{parentName:"li"},Object(a.b)("li",{parentName:"ul"},"v\xe9rifier que pour tous les \xe9tats la case R\xe9vision par d\xe9faut est bien coch\xe9e (sauf pour Draft)"),Object(a.b)("li",{parentName:"ul"},"cr\xe9er un \xe9tat (ex: D\xe9publi\xe9)"),Object(a.b)("li",{parentName:"ul"},"cr\xe9er une transition (ex : D\xe9publier un contenu) qui pr\xe9voit de passer des \xe9tats de Publi\xe9 \xe0 D\xe9publi\xe9"))),Object(a.b)("li",{parentName:"ul"},"Choisir \xe0 quels types de contenu s'applique le processus")),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"Associer le processus au r\xf4le concern\xe9 en activant le droit dans Personne > droits > Content Moderation."),Object(a.b)("li",{parentName:"ol"},"Pour les r\xf4les concern\xe9s par la mod\xe9ration ou contribution :")),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"activer le droit Voir le th\xe8me d'administration"),Object(a.b)("li",{parentName:"ul"},"activer le droit Utiliser la barre d'outils d'administration")),Object(a.b)("h2",{id:"attributions-des-processus-\xe0-des-r\xf4les"},"Attributions des processus \xe0 des r\xf4les"),Object(a.b)("p",null,"Afin de d\xe9finir les droits d'action (A publier, A corriger...) selon  les r\xf4les :\n1. Dans Administration / Personnes / Droits aller dans la rubrique Content Moderation\n1. Appliquer les droits attendus en fonction des r\xf4les"),Object(a.b)("h2",{id:"attribution-des-droits-minimums-pour-un-r\xf4le"},'Attribution des droits "minimums" pour un r\xf4le'),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"Acc\xe9der \xe0 l'admin")),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Voir le th\xe8me d'administration")),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"Acc\xe9der \xe0 la bare d'outil")),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Toolbar / Utiliser la barre d'outils d'administration")),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"Acc\xe9der aux menus autres que Contenu (Structure...)")),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Utiliser les pages d'administration et l'aide")),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"Acc\xe9der aux informations d'un contenu (auteur...)")),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Administrer le contenu")),Object(a.b)("h2",{id:"configurer-un-autocomplete-sp\xe9cifique-pour-un-champ-referenced-field"},"Configurer un autocomplete sp\xe9cifique pour un champ referenced field"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Cr\xe9er une vue de type entity reference"),Object(a.b)("li",{parentName:"ul"},"Ajouter les champs qu'on souhaite afficher ou utiliser pour la recherche"),Object(a.b)("li",{parentName:"ul"},"dans Format, choisir les champs sur lesquels rechercher"),Object(a.b)("li",{parentName:"ul"},'Dans les champs, s\xe9lectionner les champs souhait\xe9s, et les passer en "exclure de l\'affichage", sauf le dernier pour lequel on va r\xe9\xe9crire les r\xe9sultats "Remplacer le rendu de ce champ par un texte personnalis\xe9" en utilisant du twig et les champs qui sont cach\xe9s.')),Object(a.b)("p",null,"Ensuite, se rendre sur la configuration du node, dans la configuration du champs referenced entity et choisir dans type de r\xe9f\xe9rence /m\xe9thode de r\xe9f\xe9rence la vue que l'on vient de cr\xe9er."),Object(a.b)("p",null,'ATTENTION, un patch est n\xe9cessaire (version D8 actuelle 8.7.* : "entity reference display on admin autocomplete": "patches/2174633-351.patch"'))}d.isMDXComponent=!0},160:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return d}));var r=n(0),i=n.n(r),a=i.a.createContext({}),l=function(e){var t=i.a.useContext(a),n=t;return e&&(n="function"==typeof e?e(t):Object.assign({},t,e)),n},o=function(e){var t=l(e.components);return i.a.createElement(a.Provider,{value:t},e.children)};var u="mdxType",s={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},c=Object(r.forwardRef)((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,o=e.parentName,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}(e,["components","mdxType","originalType","parentName"]),c=l(n),d=r,b=c[o+"."+d]||c[d]||s[d]||a;return n?i.a.createElement(b,Object.assign({},{ref:t},u,{components:n})):i.a.createElement(b,Object.assign({},{ref:t},u))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,l=new Array(a);l[0]=c;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[u]="string"==typeof e?e:r,l[1]=o;for(var d=2;d<a;d++)l[d]=n[d];return i.a.createElement.apply(null,l)}return i.a.createElement.apply(null,n)}c.displayName="MDXCreateElement"}}]);