(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{101:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return l})),t.d(n,"rightToc",(function(){return o})),t.d(n,"metadata",(function(){return s})),t.d(n,"default",(function(){return p}));var r=t(1),a=t(6),i=(t(0),t(119)),l={},o=[{value:"Installation",id:"installation",children:[]},{value:"Afficher un bloc d'incription",id:"afficher-un-bloc-dincription",children:[]}],s={id:"newsletters",title:"newsletters",description:"# Newsletter",source:"@site/docs/newsletters.md",permalink:"/book-drupal/docs/newsletters",sidebar:"docs",previous:{title:"comments",permalink:"/book-drupal/docs/comments"},next:{title:"menus",permalink:"/book-drupal/docs/menus"}},c={rightToc:o,metadata:s},u="wrapper";function p(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(i.b)(u,Object(r.a)({},c,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)("h1",{id:"newsletter"},"Newsletter"),Object(i.b)("h2",{id:"installation"},"Installation"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Installer le module simplenews"),Object(i.b)("li",{parentName:"ul"},"Installer le module simplenews_ajax")),Object(i.b)("h2",{id:"afficher-un-bloc-dincription"},"Afficher un bloc d'incription"),Object(i.b)("p",null,'Une fois le module install\xe9, configurer la simplenews puis aller dans "mise en page des blocs" et placer le bloc Newsletter dans la section souhait\xe9e. (on peut utiliser une regions "newsletter" qu\'on affiche avec twig tweak).'),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{}),"{{ drupal_region('newsletter') }}\n")),Object(i.b)("p",null,"Ensuite, il faut utiliser les exemples de js qui se trouvent dans simplenews_ajax pour g\xe9rer le retour AJAX (qui appelle la fonction jQuery \"oknewsletter\". Il y a aussi js-cookie.js qui permet si besoin de sauvegarder le choix de newsletter pour une personne non authentifi\xe9e (qu'on ne lui repropose pas de s'inscrire si elle vient de le faire par ex.)"),Object(i.b)("p",null,"Dans ce cas, il faut d\xe9placer ces js dans le theme et penser \xe0 mettre les 2 js dans montheme.libraries.yml pour les r\xe9f\xe9rencer."),Object(i.b)("p",null,"Pour v\xe9rifier qu'une inscription s'est bien d\xe9roul\xe9e, aller dans ",Object(i.b)("inlineCode",{parentName:"p"},"/admin/people/simplenews")))}p.isMDXComponent=!0},119:function(e,n,t){"use strict";t.d(n,"a",(function(){return o})),t.d(n,"b",(function(){return p}));var r=t(0),a=t.n(r),i=a.a.createContext({}),l=function(e){var n=a.a.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):Object.assign({},n,e)),t},o=function(e){var n=l(e.components);return a.a.createElement(i.Provider,{value:n},e.children)};var s="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.a.createElement(a.a.Fragment,{},n)}},u=Object(r.forwardRef)((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,s=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===n.indexOf(r)&&(t[r]=e[r]);return t}(e,["components","mdxType","originalType","parentName"]),u=l(t),p=r,d=u[o+"."+p]||u[p]||c[p]||i;return t?a.a.createElement(d,Object.assign({},{ref:n},s,{components:t})):a.a.createElement(d,Object.assign({},{ref:n},s))}));function p(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,l=new Array(i);l[0]=u;var o={};for(var c in n)hasOwnProperty.call(n,c)&&(o[c]=n[c]);o.originalType=e,o[s]="string"==typeof e?e:r,l[1]=o;for(var p=2;p<i;p++)l[p]=t[p];return a.a.createElement.apply(null,l)}return a.a.createElement.apply(null,t)}u.displayName="MDXCreateElement"}}]);